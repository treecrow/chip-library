/*

 lodash 4.5.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 Build: `lodash -o ./dist/lodash.js`
 MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors */
define("qowtRoot/utils/typeUtils",[],function(){function h(a,g,e){if(e.types.every(function(g){var a=c[g];if(!a)throw Error("Bad config to checkArgTypes: unknown type: "+g);return!a(e.value)})){var h=1===e.types.length?e.types[0]:"["+e.types.join(",")+"]";throw Error("Argument "+g+" passed to function "+a+" was supposed to be of type "+h+" but had value "+e.value);}}var e={checkArgTypes:function(a,g){for(var c in g){var e={value:g[c][0],types:g[c].slice(1)};h(a,c,e)}},isObject:function(a){return"object"===
typeof a&&null!==a},isPromise:function(a){return a instanceof Promise},isPromiseLike:function(a){return!(!a||!e.isFunction(a.then))},isList:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isNumber:function(a){return"number"===typeof a&&!isNaN(a)},isInteger:function(a){return"number"===typeof a&&parseInt(a,10)===a},isFunction:function(a){return"function"===typeof a},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},isRegex:function(a){return"[object RegExp]"===
Object.prototype.toString.call(a)},isNode:function(a){return a instanceof Node},isNull:function(a){return null===a},isUndefined:function(a){return void 0===a},isBoolean:function(a){return"boolean"===typeof a},getType:function(a){var g;Object.keys(c).forEach(function(e){c[e](a)&&(g=e)});return g},isArgumentsObjectOrList:function(a){return a instanceof Object&&a.hasOwnProperty("length")},extend:function(a,g){for(var c in g)g.hasOwnProperty(c)&&(a[c]=g[c])},createNewType:function(a){var g=function(){},
e={isOfType:function(a){return void 0!==a&&null!==a&&a.constructor===g},markAsType:function(a){Object.defineProperty(a,"constructor",{value:g,configurable:!1,writable:!1,enumerable:!1});return a}};if(a){if(c[a])throw Error("Already registered type "+a);c[a]=e.isOfType}return e}},c={string:e.isString,object:e.isObject,promise:e.isPromise,promiseLike:e.isPromiseLike,node:e.isNode,regex:e.isRegex,"function":e.isFunction,number:e.isNumber,list:e.isList,boolean:e.isBoolean,"null":e.isNull,undefined:e.isUndefined};
return e});(function(){var h={},e=window.sessionStorage.getItem("featureOverrides");e&&(h=JSON.parse(e));h.isRelease=!0;h.edit=!1;window.sessionStorage.setItem("featureOverrides",JSON.stringify(h));window.localStorage.removeItem("testsToInclude");window.localStorage.removeItem("builtInTests")})();define("configs/releaseFeatures",function(){});
(function(){var h={},e=window.sessionStorage.getItem("featureOverrides");e&&(h=JSON.parse(e));h.save=!!(window.chrome&&window.chrome.fileSystem&&window.chrome.fileSystem.chooseEntry);window.sessionStorage.setItem("featureOverrides",JSON.stringify(h))})();define("configs/chromeFeatures",function(){});define("qowtRoot/features/pack",[],function(){return{edit:!0,save:!1,pointEdit:!1,hats:!0}});
define("qowtRoot/features/utils",["qowtRoot/features/pack"],function(h){var e={isEnabled:function(a){a=h[a];return void 0===a?!1:a},enable:function(a){h[a]=!0},disable:function(a){h[a]=!1},setOverrides:function(a){for(var g in a)a.hasOwnProperty(g)&&(h[g]=a[g])},isDebug:function(){return void 0!==c?c:!e.isEnabled("isRelease")},setDebugOverride:function(a){c=a},clearDebugOverride:function(){c=void 0}},c;return e});
(function(h){h("qowtRoot/third_party/when/lib/timer",["require"],function(e){return{set:setTimeout,clear:clearTimeout}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/timed",[],function(){return function(e,c,a){a.prototype.delay=function(a){var c=this;return new this.constructor(function(h,x,m){c.then(function(c){e(function(){h(c)},a)},x,m)})};a.prototype.timeout=function(a,h){var w=this,x=1<arguments.length;return new this.constructor(function(m,n,t){var u=e(function(){n(x?h:Error("timed out after "+a+"ms"))},a);w.then(function(a){c(u);m(a)},function(a){c(u);n(a)},t)})};return a}})})("function"===typeof define&&define.amd?
define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/array",[],function(){return function(e){var c=Array.prototype.map,a=Array.prototype.reduce,g=Array.prototype.reduceRight,h=Array.prototype.forEach,w=e.resolve,x=e.all;e.any=function(a){return new e(function(c,g){function e(a){r.push(a);0===--x&&g(r)}var x=0,r=[];h.call(a,function(a){++x;w(a).then(c,e)});0===x&&c()})};e.some=function(a,c){return new e(function(g,e,x){function r(a){0<q&&(--q,p.push(a),0===q&&g(p))}function A(a){0<y&&(--y,J.push(a),0===y&&
e(J))}var q=0,y,p=[],J=[];h.call(a,function(a){++q;w(a).then(r,A,x)});c=Math.max(c,0);y=q-c+1;q=Math.min(c,q);0===q&&g(p)})};e.settle=function(a){return x(c.call(a,function(a){function c(){return a.inspect()}a=w(a);return a.then(c,c)}))};e.map=function(a,g,e){return x(c.call(a,function(a){return w(a).then(g,e)}))};e.reduce=function(c,g){function e(a,c,m){return w(a).then(function(a){return w(c).then(function(c){return g(a,c,m)})})}return 2<arguments.length?a.call(c,e,arguments[2]):a.call(c,e)};e.reduceRight=
function(a,c){function e(a,g,m){return w(a).then(function(a){return w(g).then(function(g){return c(a,g,m)})})}return 2<arguments.length?g.call(a,e,arguments[2]):g.call(a,e)};e.prototype.spread=function(a){return this.then(x).then(function(c){return a.apply(void 0,c)})};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/fatal",["require","./timer"],function(e){var c=e("./timer").set;return function(a){c(function(){throw a;},0)}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/flow",["require","./fatal"],function(e){function c(){throw new TypeError("catch predicate must be a function");}function a(a,c){return function(){a.call(this);return c}}function g(){}var h=e("./fatal");return function(e){function x(a,c){return function(g){return(c===Error||null!=c&&c.prototype instanceof Error?g instanceof c:c(g))?a.call(this,g):n(g)}}var m=e.resolve,n=e.reject,t=e.prototype["catch"];e.prototype.done=function(a,c){var e=this._handler;
e.when(this._maybeFatal,g,this,e.receiver,a,c)};e.prototype._maybeFatal=function(a){if(Object(a)===a)m(a)["catch"](this._fatal)};e.prototype._fatal=h;e.prototype["catch"]=e.prototype.otherwise=function(a){return 1===arguments.length?t.call(this,a):"function"!==typeof a?this.ensure(c):t.call(this,x(arguments[1],a))};e.prototype["finally"]=e.prototype.ensure=function(c){if("function"!==typeof c)return this;c=a(c,this);return this.then(c,c)};e.prototype["else"]=e.prototype.orElse=function(a){return this.then(void 0,
function(){return a})};e.prototype.yield=function(a){return this.then(function(){return a})};e.prototype.tap=function(a){return this.then(a).yield(this)};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});(function(h){h("qowtRoot/third_party/when/lib/inspect",[],function(){return function(e){e.prototype.inspect=function(){return this._handler.inspect()};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/iterate",[],function(){return function(e){function c(a,e,h,m){function n(m){return g(h(m)).then(function(){return c(a,e,h,a(m))})}return g(m).then(function(a){return g(e(a)).then(function(c){return c?a:n(a)})})}function a(c,e,h,m){function n(m,n){return g(h(m)).then(function(){return a(c,e,h,n)})}return g(m).then(function(a){return g(e(a)).then(function(e){return e?a:g(c(a)).spread(n)})})}var g=e.resolve;e.iterate=c;e.unfold=a;return e}})})("function"===
typeof define&&define.amd?define:function(h){module.exports=h()});(function(h){h("qowtRoot/third_party/when/lib/progress",[],function(){return function(e){e.prototype.progress=function(c){return this.then(void 0,void 0,c)};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/with",[],function(){return function(e){e.prototype["with"]=e.prototype.withThis=e.prototype._bindContext;return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/makePromise",[],function(){return function(e){function c(c){var e=this;this._handler=new u;a(c,function(a){e._handler.resolve(a)},function(a){e._handler.reject(a)},function(a){e._handler.notify(a)})}function a(a,c,e,g){try{a(c,e,g)}catch(h){e(h)}}function g(a){return new h(new F(new y(a)))}function h(a){this._handler=a}function w(a,e){if(a instanceof c){var g=a._handler.join();return e===g?new y(new TypeError("Promise cycle")):g}return ab(a)?m(a):new q(a)}
function x(a){return a instanceof c?a._handler.join():m(a)}function m(a){try{var c=a.then;return"function"===typeof c?new A(c,a):new q(a)}catch(e){return new y(e)}}function n(){}function t(a){this.handler=a;if(this._isMonitored()){var c=this._env.promiseMonitor.captureStack();this.trace=a._addTrace(c)}}function u(a){this.consumers=[];this.receiver=a;this.handler=void 0;this.resolved=!1;this._isMonitored()&&(this.trace=this._env.promiseMonitor.captureStack())}function F(a){t.call(this,a)}function r(a,
c){t.call(this,a);this.receiver=c}function A(a,c){u.call(this);this.assimilated=!1;this.untrustedThen=a;this.thenable=c}function q(a){this.value=a}function y(a){this.value=a;this.observed=!1;this._isMonitored()&&(this.key=this._env.promiseMonitor.startTrace(a))}function p(){return{state:"pending"}}function J(a,c,e,g,h,m,n,p){this.a=a;this.b=c;this.c=e;this.d=g;this.e=h;this.f=m;this.g=n;this.handler=p}function fa(a,c){this.q=a;this.value=c}function ab(a){return("object"===typeof a||"function"===typeof a)&&
null!==a}function Na(a,c,e){try{return a.call(e,c)}catch(h){return g(h)}}function X(){}var Oa,ya=e.scheduler,ga=Object.create||function(a){function c(){}c.prototype=a;return new c};c.resolve=function(a){return a instanceof c?a:new h(new F(w(a)))};c.reject=g;c.never=function(){return Oa};c._defer=function(){return new h(new u)};c.prototype.then=function(a,c,e){var g=this._handler,m=new u(g.receiver);g.when(m.resolve,m.notify,m,g.receiver,a,c,e);return new h(m)};c.prototype["catch"]=c.prototype.otherwise=
function(a){return this.then(void 0,a)};c.prototype._bindContext=function(a){return new h(new r(this._handler,a))};c.all=function(a){function c(a,e,g,h){g.when(X,X,void 0,a,function(a){e[h]=a;0===--m&&this.resolve(e)},a.reject,a.notify)}var e=new u,g=a.length>>>0,m=g,n=[],p,r;for(p=0;p<g;++p)p in a?(r=a[p],ab(r)?c(e,n,x(r),p):(n[p]=r,--m)):--m;0===m&&e.resolve(n);return new h(e)};c.race=function(a){if(Object(a)===a&&0===a.length)return Oa;for(var c=new u,e=0;e<a.length;++e)w(a[e]).when(X,X,void 0,
c,c.resolve,c.reject);return new h(c)};h.prototype=ga(c.prototype);n.prototype.inspect=p;n.prototype.when=X;n.prototype.resolve=X;n.prototype.reject=X;n.prototype.notify=X;n.prototype.join=function(){return this};n.prototype._env=e.monitor||c;n.prototype._addTrace=X;n.prototype._isMonitored=function(){return"undefined"!==typeof this._env.promiseMonitor};t.prototype=ga(n.prototype);t.prototype.join=function(){return this.handler.join()};t.prototype.inspect=function(){return this.handler.inspect()};
t.prototype._addTrace=function(a){return this.handler._addTrace(a)};u.prototype=ga(n.prototype);u.prototype.inspect=function(){return this.resolved?this.handler.join().inspect():p()};u.prototype.resolve=function(a){this._join(w(a,this))};u.prototype.reject=function(a){this._join(new y(a))};u.prototype.join=function(){return this.resolved?this.handler.join():this};u.prototype.run=function(){var a=this.consumers,c=this.handler=this.handler.join();this.consumers=void 0;for(var e=0;e<a.length;e+=7)c.when(a[e],
a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])};u.prototype._join=function(a){this.resolved||(this.resolved=!0,this.handler=a,ya.enqueue(this),this._isMonitored()&&(this.trace=a._addTrace(this.trace)))};u.prototype.when=function(a,c,e,g,m,h,n){this.resolved?ya.enqueue(new J(a,c,e,g,m,h,n,this.handler.join())):this.consumers.push(a,c,e,g,m,h,n)};u.prototype.notify=function(a){this.resolved||ya.enqueue(new fa(this.consumers,a))};u.prototype._addTrace=function(a){return this.resolved?this.handler._addTrace(a):
a};F.prototype=ga(t.prototype);F.prototype.when=function(a,c,e,g,m,h,n){ya.enqueue(new J(a,c,e,g,m,h,n,this.join()))};r.prototype=ga(t.prototype);r.prototype.when=function(a,c,e,g,m,h,n){void 0!==this.receiver&&(g=this.receiver);this.join().when(a,c,e,g,m,h,n)};A.prototype=ga(u.prototype);A.prototype.when=function(a,c,e,g,m,h,n){this.assimilated||(this.assimilated=!0,this._assimilate());u.prototype.when.call(this,a,c,e,g,m,h,n)};A.prototype._assimilate=function(){var a=this;this._try(this.untrustedThen,
this.thenable,function(c){a.resolve(c)},function(c){a.reject(c)},function(c){a.notify(c)})};A.prototype._try=function(a,c,e,g,m){try{a.call(c,e,g,m)}catch(h){g(h)}};q.prototype=ga(n.prototype);q.prototype.inspect=function(){return{state:"fulfilled",value:this.value}};q.prototype.when=function(a,c,e,g,m){c="function"===typeof m?Na(m,this.value,g):this.value;a.call(e,c)};y.prototype=ga(n.prototype);y.prototype.inspect=function(){return{state:"rejected",reason:this.value}};y.prototype.when=function(a,
c,e,m,h,n){this._isMonitored()&&!this.observed&&this._env.promiseMonitor.removeTrace(this.key);this.observed=!0;c="function"===typeof n?Na(n,this.value,m):g(this.value);a.call(e,c)};y.prototype._addTrace=function(a){this.observed||this._env.promiseMonitor.updateTrace(this.key,a)};Oa=new h(new n);J.prototype.run=function(){this.handler.when(this.a,this.b,this.c,this.d,this.e,this.f,this.g)};fa.prototype.run=function(){for(var a=this.q,c=1;c<a.length;c+=7)this._notify(a[c],a[c+1],a[c+2],a[c+5])};fa.prototype._notify=
function(a,c,e,g){var m;if("function"===typeof g)try{m=g.call(e,this.value)}catch(h){m=h}else m=this.value;a.call(c,m)};return c}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/Queue",[],function(){function e(c){this.head=this.tail=this.length=0;this.buffer=Array(1<<c)}e.prototype.push=function(c){this.length===this.buffer.length&&this._ensureCapacity(2*this.length);this.buffer[this.tail]=c;this.tail=this.tail+1&this.buffer.length-1;++this.length;return this.length};e.prototype.shift=function(){var c=this.buffer[this.head];this.buffer[this.head]=void 0;this.head=this.head+1&this.buffer.length-1;--this.length;return c};e.prototype._ensureCapacity=
function(c){var a=this.head,e=this.buffer,h=Array(c),w=0,x;if(0===a)for(x=this.length;w<x;++w)h[w]=e[w];else{c=e.length;for(x=this.tail;a<c;++w,++a)h[w]=e[a];for(a=0;a<x;++w,++a)h[w]=e[a]}this.buffer=h;this.head=0;this.tail=this.length};return e})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/scheduler",["require","./Queue"],function(e){function c(c){this._enqueue=c;this._handlerQueue=new a(15);var e=this;this.drainQueue=function(){e._drainQueue()}}var a=e("./Queue");c.prototype.enqueue=function(a){1===this._handlerQueue.push(a)&&this._enqueue(this.drainQueue)};c.prototype._drainQueue=function(){for(var a=this._handlerQueue;0<a.length;)a.shift().run()};return c})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/async",["require"],function(e){var c;return"undefined"!==typeof process&&null!==process&&"function"===typeof process.nextTick?function(a){process.nextTick(a)}:(c="function"===typeof MutationObserver&&MutationObserver||"function"===typeof WebKitMutationObserver&&WebKitMutationObserver)?function(a,c){var e,h=a.createElement("div");(new c(function(){var a=e;e=void 0;a()})).observe(h,{attributes:!0});return function(a){e=a;h.setAttribute("class","x")}}(document,
c):function(a){var c=setTimeout;return function(a){c(a,0)}}(e)})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});(function(h){h("qowtRoot/third_party/when/lib/Promise",["require","./makePromise","./scheduler","./async"],function(e){var c=e("./makePromise"),a=e("./scheduler");e=e("./async");return c({scheduler:new a(e),monitor:"undefined"!==typeof console?console:void 0})})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/when","require ./lib/timer ./lib/timed ./lib/array ./lib/flow ./lib/inspect ./lib/iterate ./lib/progress ./lib/with ./lib/Promise".split(" "),function(e){function c(a,c,e,g){var h=y(a);return 2>arguments.length?h:h.then(c,e,g)}function a(a){return function(){return h(a,this,p.call(arguments))}}function g(a){return h(a,this,p.call(arguments,1))}function h(a,c,e){return q.all(e).then(function(e){return a.apply(c,e)})}function w(){function a(c){g._handler.resolve(c)}
function c(a){g._handler.reject(a)}function e(a){g._handler.notify(a)}var g=q._defer();this.promise=g;this.resolve=a;this.reject=c;this.notify=e;this.resolver={resolve:a,reject:c,notify:e}}var x=e("./lib/timer"),m=e("./lib/timed"),n=e("./lib/array"),t=e("./lib/flow"),u=e("./lib/inspect"),F=e("./lib/iterate"),r=e("./lib/progress"),A=e("./lib/with"),q=e("./lib/Promise"),q=[n,t,F,r,u,A].reduceRight(function(a,c){return c(a)},m(x.set,x.clear,q)),y=q.resolve,p=Array.prototype.slice;c.promise=function(a){return new q(a)};
c.resolve=q.resolve;c.reject=q.reject;c.lift=a;c["try"]=g;c.attempt=g;c.iterate=q.iterate;c.unfold=q.unfold;c.join=function(){return q.all(arguments)};c.all=function(a){return c(a,q.all)};c.settle=function(a){return c(a,q.settle)};c.any=a(q.any);c.some=a(q.some);c.map=function(a,e){return c(a,function(a){return q.map(a,e)})};c.reduce=function(a,e){var g=p.call(arguments,1);return c(a,function(a){g.unshift(a);return q.reduce.apply(q,g)})};c.reduceRight=function(a,e){var g=p.call(arguments,1);return c(a,
function(a){g.unshift(a);return q.reduceRight.apply(q,g)})};c.isPromiseLike=function(a){return a&&"function"===typeof a.then};c.Promise=q;c.defer=function(){return new w};return c})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
define("qowtRoot/utils/promiseUtils",["qowtRoot/utils/typeUtils","qowtRoot/third_party/when/when"],function(h,e){var c={cast:function(a){return a instanceof Promise?a:Promise.resolve(a)},delay:function(a,c){a=a||0;return new Promise(function(e){setTimeout(e.bind(void 0,c),a)})},delayThenReject:function(a,c){a=a||0;return new Promise(function(e,h){setTimeout(h.bind(e,c),a)})},throwAndEscapeChain:function(a){a instanceof Error||(console.error("throwAndEscapeChain wrapping value in new Error: ",a),a=
Error(a));e.reject(a).done();throw a;},pipeline:function(a){function e(){for(var x=Array.prototype.slice.call(arguments,0);0<a.length;){var m=a.shift();if(h.isPromiseLike(m))return c.cast(m).then(function(c){a.unshift(c);return e.apply(v,x)});h.checkArgTypes("PromiseUtils.pipeline",{task:[m,"function"]});m=m.apply(v,x);if(h.isPromiseLike(m))return c.cast(m).then(function(a){return e(a)});x=[m]}return x[0]}var v=this,w=Array.prototype.slice.call(arguments,0);if(w.some(h.isPromiseLike))return Promise.all(w).then(function(a){return c.pipeline.apply(v,
a)});h.checkArgTypes("PromiseUtils.pipeline",{tasks:[a,"list"]});a=a.slice(0);return e.apply(v,w.slice(1))},finally:function(a,e){function h(){return c.cast(e()).then(function(){return a})}return c.cast(a).then(h,h)},waitForNextMacroTurn:function(a){return new Promise(function(c){window.setTimeout(c.bind(null,a),0)})}};return c});
define("utils/analytics/googleAnalytics",["qowtRoot/features/utils","qowtRoot/utils/promiseUtils"],function(h,e){function c(c,e){var g;void 0!==q?g=q?Promise.resolve():Promise.reject(Error("ga permission cached (not permitted)")):(window.analytics&&chrome&&chrome.metricsPrivate&&chrome.metricsPrivate.getIsCrashReportingEnabled&&(!h.isDebug()||void 0!==window.__gaMock)?g=Promise.resolve():(console.warn("GA not supported on this platform"),g=Promise.reject(Error("GA not supported on this platform"))),
g=g.then(a).catch(w));return g.then(x).then(c.bind(null,e)).catch(function(){})}function a(){var a=Error("Crash reporting setting timed out");return Promise.race([g(),e.delayThenReject(1E3,a)]).then(v)}function g(){return new Promise(function(a){chrome.metricsPrivate.getIsCrashReportingEnabled(a)})}function v(a){return new Promise(function(c,e){y=window.analytics.getService(r);y.getConfig().addCallback(function(g){g.setTrackingPermitted(a);(q=a)?c():(console.warn("Crash reporting not allowed"),e())})})}
function w(){q=!1;return Promise.reject()}function x(){void 0===p&&m("QO");return Promise.resolve()}function m(a){p&&p.sendAppView(a);p=y.getTracker(F[a]);J&&p.set(window.analytics.Parameters.SESSION_GROUP,J);"QO"!==a&&fa&&p.set(window.analytics.Parameters.APP_ID,fa);p.forceSessionStart();return Promise.resolve()}function n(a){A!==a&&(A=a,p.sendAppView(a));return Promise.resolve()}function t(a){p.sendException(a.msg,a.fatal);return Promise.resolve()}function u(a){p.sendEvent(a.category,a.action,a.label,
a.value);return Promise.resolve()}var F={word:"UA-44583639-1",sheet:"UA-44583639-2",point:"UA-44583639-3",QO:"UA-44583639-4"},r="Quickoffice",A,q,y,p,J,fa;return{setFileExt:function(a){fa=a},setSessionGroup:function(a){J=a},setTracker:function(a){return c(m,a)},sendState:function(a){return c(n,a)},sendException:function(a){return c(t,a)},sendEvent:function(a){return c(u,a)},reset:function(){p=y=q=A=void 0}}});
define("qowtRoot/utils/i18n",["qowtRoot/utils/typeUtils","utils/analytics/googleAnalytics"],function(h,e){var c={getMessage:function(a,e){var v="????";if(!chrome||!chrome.i18n)return a;h.isString(a)?(v=chrome.i18n.getMessage(a,e),v||(v=a,c.logError_("Missing translation",a))):c.logError_("Invalid string translation Id",a);return v},logError_:function(a,c){console.error(a+" "+c);e.sendException({msg:a,fatal:!1})}};return c});
(function(){function h(a,f){return a.set(f[0],f[1]),a}function e(a,f){return a.add(f),a}function c(a,f,c){switch(c.length){case 0:return a.call(f);case 1:return a.call(f,c[0]);case 2:return a.call(f,c[0],c[1]);case 3:return a.call(f,c[0],c[1],c[2])}return a.apply(f,c)}function a(a,f,c,e){for(var g=-1,h=a.length;++g<h;){var m=a[g];f(e,m,c(m),a)}return e}function g(a,f){for(var c=-1,e=a.length;++c<e&&!1!==f(a[c],c,a););return a}function v(a,f){for(var c=-1,e=a.length;++c<e;)if(!f(a[c],c,a))return!1;
return!0}function w(a,f){for(var c=-1,e=a.length,g=-1,h=[];++c<e;){var m=a[c];f(m,c,a)&&(h[++g]=m)}return h}function x(a,f){return!!a.length&&-1<p(a,f,0)}function m(a,f,c){for(var e=-1,g=a.length;++e<g;)if(c(f,a[e]))return!0;return!1}function n(a,f){for(var c=-1,e=a.length,g=Array(e);++c<e;)g[c]=f(a[c],c,a);return g}function t(a,f){for(var c=-1,e=f.length,g=a.length;++c<e;)a[g+c]=f[c];return a}function u(a,f,c,e){var g=-1,h=a.length;for(e&&h&&(c=a[++g]);++g<h;)c=f(c,a[g],g,a);return c}function F(a,
f,c,e){var g=a.length;for(e&&g&&(c=a[--g]);g--;)c=f(c,a[g],g,a);return c}function r(a,f){for(var c=-1,e=a.length;++c<e;)if(f(a[c],c,a))return!0;return!1}function A(a,f,c){for(var e=-1,g=a.length;++e<g;){var h=a[e],m=f(h);if(null!=m&&(n===k?m===m:c(m,n)))var n=m,p=h}return p}function q(a,f,c,e){var g;return c(a,function(a,c,h){return f(a,c,h)?(g=e?c:a,!1):void 0}),g}function y(a,f,c){for(var e=a.length,g=c?e:-1;c?g--:++g<e;)if(f(a[g],g,a))return g;return-1}function p(a,f,c){if(f!==f)return Lc(a,c);
--c;for(var e=a.length;++c<e;)if(a[c]===f)return c;return-1}function J(a,f,c,e,g){return g(a,function(a,g,h){c=e?(e=!1,a):f(c,a,g,h)}),c}function fa(a,f){var c=a.length;for(a.sort(f);c--;)a[c]=a[c].c;return a}function ab(a,f){for(var c,e=-1,g=a.length;++e<g;){var h=f(a[e]);h!==k&&(c=c===k?h:c+h)}return c}function Na(a,f){for(var c=-1,e=Array(a);++c<a;)e[c]=f(c);return e}function X(a,c){return n(c,function(c){return[c,a[c]]})}function Oa(a){return function(c){return a(c)}}function ya(a,c){return n(c,
function(c){return a[c]})}function ga(a,c){for(var e=-1,g=a.length;++e<g&&-1<p(c,a[e],0););return e}function Jc(a,c){for(var e=a.length;e--&&-1<p(c,a[e],0););return e}function pa(a){return a&&a.Object===Object?a:null}function Kc(a,c){if(a!==c){var e=null===a,g=a===k,h=a===a,m=null===c,n=c===k,p=c===c;if(a>c&&!m||!h||e&&!n&&p||g&&p)return 1;if(c>a&&!e||!p||m&&!g&&h||n&&h)return-1}return 0}function ue(a){return Pb[a]}function ve(a){return Qb[a]}function we(a){return"\\"+Rb[a]}function Lc(a,c,e){var g=
a.length;for(c+=e?0:-1;e?c--:++c<g;){var h=a[c];if(h!==h)return c}return-1}function bb(a){var c=!1;if(null!=a&&"function"!=typeof a.toString)try{c=!!(a+"")}catch(e){}return c}function za(a,c){return a="number"==typeof a||Sb.test(a)?+a:-1,-1<a&&0==a%1&&(null==c?9007199254740991:c)>a}function Mc(a){for(var c,e=[];!(c=a.next()).done;)e.push(c.value);return e}function Ob(a){var c=-1,e=Array(a.size);return a.forEach(function(a,g){e[++c]=[g,a]}),e}function Aa(a,c){for(var e=-1,g=a.length,h=-1,m=[];++e<
g;){var k=a[e];(k===c||"__lodash_placeholder__"===k)&&(a[e]="__lodash_placeholder__",m[++h]=e)}return m}function pb(a){var c=-1,e=Array(a.size);return a.forEach(function(a){e[++c]=a}),e}function cb(a){if(!a||!qb.test(a))return a.length;for(var c=Z.lastIndex=0;Z.test(a);)c++;return c}function xe(a){return Tb[a]}function Nc(L){function f(b){if(O(b)&&!C(b)&&!(b instanceof D)){if(b instanceof Y)return b;if(N.call(b,"__wrapped__"))return Oc(b)}return new Y(b)}function W(){}function Y(b,d){this.__wrapped__=
b;this.__actions__=[];this.__chain__=!!d;this.__index__=0;this.__values__=k}function D(b){this.__wrapped__=b;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function xa(){}function Ba(b){var d=-1,l=b?b.length:0;for(this.clear();++d<l;){var a=b[d];this.set(a[0],a[1])}}function oa(b){var d=-1,l=b?b.length:0;for(this.__data__=new Ba;++d<l;)this.push(b[d])}function pa(b,d){var l=b.__data__;return Pa(d)?(l=l.__data__,"__lodash_hash_undefined__"===
("string"==typeof d?l.string:l.hash)[d]):l.has(d)}function qa(b){var d=-1,l=b?b.length:0;for(this.clear();++d<l;){var a=b[d];this.set(a[0],a[1])}}function $a(b,d){var l=db(b,d);return 0>l?!1:(l==b.length-1?b.pop():sb.call(b,l,1),!0)}function ob(b,d){var l=db(b,d);return 0>l?k:b[l][1]}function db(b,d){for(var l=b.length;l--;)if(ra(b[l][0],d))return l;return-1}function Pc(b,d,l){var a=db(b,d);0>a?b.push([d,l]):b[a][1]=l}function Ub(b,d,l,a){return b===k||ra(b,Qa[l])&&!N.call(a,l)?d:b}function Qc(b,
d,l){(l===k||ra(b[d],l))&&("number"!=typeof d||l!==k||d in b)||(b[d]=l)}function tb(b,d,l){var a=b[d];N.call(b,d)&&ra(a,l)&&(l!==k||d in b)||(b[d]=l)}function Pb(b,d,l,a){return sa(b,function(b,c,e){d(a,b,l(b),e)}),a}function Rc(b,d){return b&&eb(d,S(d),b)}function Vb(b,d){for(var l=-1,a=null==b,c=d.length,e=Array(c);++l<c;)e[l]=a?k:fb(b,d[l]);return e}function Wb(b){return P(b)?b:[]}function Ea(b){return"function"==typeof b?b:ha}function Fa(b){return C(b)?b:Sc(b)}function Ra(b,d,l){return b===b&&
(l!==k&&(b=b>l?l:b),d!==k&&(b=d>b?d:b)),b}function ia(b,d,l,a,c,e){var f;if(l&&(f=c?l(b,a,c,e):l(b)),f!==k)return f;if(!M(b))return b;if(a=C(b)){if(f=ye(b),!d)return T(b,f)}else{var h=ja(b),m="[object Function]"==h||"[object GeneratorFunction]"==h;if(Tc(b))return ze(b,d);if("[object Object]"==h||"[object Arguments]"==h||m&&!c){if(bb(b))return c?b:{};if(f=Ae(m?{}:b),!d)return Uc(b,Rc(f,b))}else{if(!H[h])return c?b:{};f=Be(b,h,d)}}return e||(e=new qa),(c=e.get(b))?c:(e.set(b,f),(a?g:ka)(b,function(a,
rb){tb(f,rb,ia(a,d,l,rb,b,e))}),a?f:Uc(b,f))}function Qb(b){var d=S(b),l=d.length;return function(a){if(null==a)return!l;for(var c=l;c--;){var e=d[c],f=b[e],g=a[e];if(g===k&&!(e in Object(a))||!f(g))return!1}return!0}}function Sa(b){return M(b)?Ce(b):{}}function Vc(b,d,l){if("function"!=typeof b)throw new aa("Expected a function");return ub(function(){b.apply(k,l)},d)}function Ga(b,d,l,a){var c=-1,e=x,f=!0,g=b.length,h=[],k=d.length;if(!g)return h;l&&(d=n(d,Oa(l)));a?(e=m,f=!1):200<=d.length&&(e=
pa,f=!1,d=new oa(d));a:for(;++c<g;){var p=b[c],r=l?l(p):p;if(f&&r===r){for(var q=k;q--;)if(d[q]===r)continue a;h.push(p)}else e(d,r,a)||h.push(p)}return h}function Rb(b,d){var l=!0;return sa(b,function(b,a,c){return l=!!d(b,a,c)}),l}function Wc(b,d){var l=[];return sa(b,function(b,a,c){d(b,a,c)&&l.push(b)}),l}function K(b,d,l,a){a||(a=[]);for(var c=-1,e=b.length;++c<e;){var f=b[c];0<d&&P(f)&&(l||C(f)||Ha(f))?1<d?K(f,d-1,l,a):t(a,f):l||(a[a.length]=f)}return a}function Sb(b,d){return null==b?b:Xb(b,
d,ba)}function ka(b,d){return b&&Xb(b,d,S)}function Yb(b,d){return b&&Xc(b,d,S)}function vb(b,d){return w(d,function(d){return ca(b[d])})}function Zb(b,d){d=ta(d,b)?[d+""]:Fa(d);for(var l=0,a=d.length;null!=b&&a>l;)b=b[d[l++]];return l&&l==a?b:k}function $b(b,d){return N.call(b,d)||"object"==typeof b&&d in b&&null===wb(b)}function Tb(b,d){return d in Object(b)}function ac(b,d,l){for(var a=l?m:x,c=b.length,e=c,f=Array(c),g=[];e--;){var h=b[e];e&&d&&(h=n(h,Oa(d)));f[e]=l||!d&&120>h.length?k:new oa(e&&
h)}var h=b[0],p=-1,r=h.length,q=f[0];a:for(;++p<r;){var t=h[p],A=d?d(t):t;if(q?!pa(q,A):!a(g,A,l)){for(e=c;--e;){var u=f[e];if(u?!pa(u,A):!a(b[e],A,l))continue a}q&&q.push(A);g.push(t)}}return g}function Ic(b,d,l,a){return ka(b,function(b,c,e){d(a,l(b),c,e)}),a}function gb(b,d,l){return ta(d,b)||(d=Fa(d),b=hb(b,d),d=U(d)),d=null==b?b:b[d],null==d?k:c(d,b,l)}function Ia(b,d,l,a,c){if(b===d)return!0;if(null==b||null==d||!M(b)&&!O(d))return b!==b&&d!==d;var e=C(b),f=C(d),g="[object Array]",h="[object Array]";
e||(g=ja(b),"[object Arguments]"==g?g="[object Object]":"[object Object]"!=g&&(e=Ta(b)));f||(h=ja(d),"[object Arguments]"==h?h="[object Object]":"[object Object]"!=h&&Ta(d));var m="[object Object]"==g&&!bb(b),f="[object Object]"==h&&!bb(d),h=g==h;!h||e||m?2&a||(g=m&&N.call(b,"__wrapped__"),f=f&&N.call(d,"__wrapped__"),!g&&!f)?h?(c||(c=new qa),b=(e?De:Ee)(b,d,Ia,l,a,c)):b=!1:b=Ia(g?b.value():b,f?d.value():d,l,a,c):b=Fe(b,d,g,Ia,l,a);return b}function bc(b,d,l,a){var c=l.length,e=c,f=!a;if(null==b)return!e;
for(b=Object(b);c--;){var g=l[c];if(f&&g[2]?g[1]!==b[g[0]]:!(g[0]in b))return!1}for(;++c<e;){var g=l[c],h=g[0],m=b[h],n=g[1];if(f&&g[2]){if(m===k&&!(h in b))return!1}else if(g=new qa,h=a?a(m,n,h,b,d,g):k,h===k?!Ia(n,m,a,3,g):!h)return!1}return!0}function Yc(b){var d=typeof b;return"function"==d?b:null==b?ha:"object"==d?C(b)?Zc(b[0],b[1]):$c(b):ad(b)}function bd(b){b=null==b?b:Object(b);var d,l=[];for(d in b)l.push(d);return l}function cd(b,d){var l=-1,a=da(b)?Array(b.length):[];return sa(b,function(b,
c,e){a[++l]=d(b,c,e)}),a}function $c(b){var d=cc(b);if(1==d.length&&d[0][2]){var l=d[0][0],a=d[0][1];return function(b){return null==b?!1:b[l]===a&&(a!==k||l in Object(b))}}return function(l){return l===b||bc(l,b,d)}}function Zc(b,d){return function(l){var a=fb(l,b);return a===k&&a===d?dd(l,b):Ia(d,a,k,3)}}function xb(b,d,l,a,c){if(b!==d){var e=C(d)||Ta(d)?k:ba(d);g(e||d,function(f,g){if(e&&(g=f,f=d[g]),M(f)){c||(c=new qa);var h=g,m=c,n=b[h],p=d[h],r=m.get(p);if(!r){var r=a?a(n,p,h+"",b,d,m):k,q=
r===k;q&&(r=p,C(p)||Ta(p)?C(n)?r=n:P(n)?r=T(n):(q=!1,r=ia(p,!0)):dc(p)||Ha(p)?Ha(n)?r=ed(n):!M(n)||l&&ca(n)?(q=!1,r=ia(p,!0)):r=n:q=!1);m.set(p,r);q&&xb(r,p,l,a,m)}Qc(b,h,r)}else h=a?a(b[g],f,g+"",b,d,c):k,h===k&&(h=f),Qc(b,g,h)})}}function fd(b,d,l){var a=-1,c=B();return d=n(d.length?d:Array(1),function(b){return c(b)}),b=cd(b,function(b,l,c){return{a:n(d,function(d){return d(b)}),b:++a,c:b}}),fa(b,function(b,d){var a;a:{a=-1;for(var c=b.a,rb=d.a,e=c.length,f=l.length;++a<e;){var g=Kc(c[a],rb[a]);
if(g){if(a>=f){a=g;break a}a=g*("desc"==l[a]?-1:1);break a}}a=b.b-d.b}return a})}function gd(b,d){return b=Object(b),u(d,function(d,a){return a in b&&(d[a]=b[a]),d},{})}function hd(b,d){var l={};return Sb(b,function(b,a){d(b,a)&&(l[a]=b)}),l}function ec(b){return function(d){return null==d?k:d[b]}}function Ge(b){return function(d){return Zb(d,b)}}function id(b,d,l){var a=-1,c=d.length,e=b;for(l&&(e=n(b,function(b){return l(b)}));++a<c;)for(var f=0,g=d[a],g=l?l(g):g;-1<(f=p(e,g,f));)e!==b&&sb.call(e,
f,1),sb.call(b,f,1);return b}function jd(b,d){for(var l=b?d.length:0,a=l-1;l--;){var c=d[l];if(a==l||c!=e){var e=c;if(za(c))sb.call(b,c,1);else if(ta(c,b))delete b[c];else{var c=Fa(c),f=hb(b,c);null!=f&&delete f[U(c)]}}}return b}function fc(b,d){return b+yb(kd()*(d-b+1))}function gc(b,d,l,a){d=ta(d,b)?[d+""]:Fa(d);for(var c=-1,e=d.length,f=e-1,g=b;null!=g&&++c<e;){var h=d[c];if(M(g)){var m=l;if(c!=f){var n=g[h],m=a?a(n,h,g):k;m===k&&(m=null==n?za(d[c+1])?[]:{}:n)}tb(g,h,m)}g=g[h]}return b}function ua(b,
d,l){var a=-1,c=b.length;0>d&&(d=-d>c?0:c+d);l=l>c?c:l;0>l&&(l+=c);c=d>l?0:l-d>>>0;d>>>=0;for(l=Array(c);++a<c;)l[a]=b[a+d];return l}function He(b,d){var l;return sa(b,function(b,a,c){return l=d(b,a,c),!l}),!!l}function zb(b,d,l){var a=0,c=b?b.length:a;if("number"==typeof d&&d===d&&2147483647>=c){for(;c>a;){var e=a+c>>>1,f=b[e];(l?d>=f:d>f)&&null!==f?a=e+1:c=e}return c}return hc(b,d,ha,l)}function hc(b,d,l,a){d=l(d);for(var c=0,e=b?b.length:0,f=d!==d,g=null===d,h=d===k;e>c;){var m=yb((c+e)/2),n=l(b[m]),
p=n!==k,r=n===n;(f?r||a:g?r&&p&&(a||null!=n):h?r&&(a||p):null==n?0:a?d>=n:d>n)?c=m+1:e=m}return ea(e,4294967294)}function ld(b,d){for(var l=0,a=b.length,c=b[0],e=d?d(c):c,f=e,g=0,h=[c];++l<a;)c=b[l],e=d?d(c):c,ra(e,f)||(f=e,h[++g]=c);return h}function Ja(b,d,l){var a=-1,c=x,e=b.length,f=!0,g=[],h=g;if(l)f=!1,c=m;else if(200>e)h=d?[]:g;else{if(c=d?null:Ie(b))return pb(c);f=!1;c=pa;h=new oa}a:for(;++a<e;){var k=b[a],n=d?d(k):k;if(f&&n===n){for(var p=h.length;p--;)if(h[p]===n)continue a;d&&h.push(n);
g.push(k)}else c(h,n,l)||(h!==g&&h.push(n),g.push(k))}return g}function Ab(b,d,l,a){for(var c=b.length,e=a?c:-1;(a?e--:++e<c)&&d(b[e],e,b););return l?ua(b,a?0:e,a?e+1:c):ua(b,a?e+1:0,a?c:e)}function md(b,d){var l=b;return l instanceof D&&(l=l.value()),u(d,function(b,d){return d.func.apply(d.thisArg,t([b],d.args))},l)}function ic(b,d,l){for(var a=-1,c=b.length;++a<c;)var e=e?t(Ga(e,b[a],d,l),Ga(b[a],e,d,l)):b[a];return e&&e.length?Ja(e,d,l):[]}function nd(b,d,l){for(var a=-1,c=b.length,e=d.length,
f={};++a<c;)l(f,b[a],e>a?d[a]:k);return f}function ze(b,d){if(d)return b.slice();var l=new b.constructor(b.length);return b.copy(l),l}function od(b){var d=new b.constructor(b.byteLength);return(new Bb(d)).set(new Bb(b)),d}function pd(b,d,l,a){var c=-1,e=b.length,f=l.length,g=-1,h=d.length,m=Q(e-f,0),k=Array(h+m);for(a=!a;++g<h;)k[g]=d[g];for(;++c<f;)(a||e>c)&&(k[l[c]]=b[c]);for(;m--;)k[g++]=b[c++];return k}function qd(b,d,l,a){var c=-1,e=b.length,f=-1,g=l.length,h=-1,m=d.length,k=Q(e-g,0),n=Array(k+
m);for(a=!a;++c<k;)n[c]=b[c];for(k=c;++h<m;)n[k+h]=d[h];for(;++f<g;)(a||e>c)&&(n[k+l[f]]=b[c++]);return n}function T(b,d){var l=-1,a=b.length;for(d||(d=Array(a));++l<a;)d[l]=b[l];return d}function eb(b,d,l){return jc(b,d,l)}function jc(b,d,l,a){l||(l={});for(var c=-1,e=d.length;++c<e;){var f=d[c],g=a?a(l[f],b[f],f,l,b):b[f];tb(l,f,g)}return l}function Uc(b,d){return eb(b,Je(b),d)}function Cb(b,d){return function(l,c){var e=C(l)?a:Pb,f=d?d():{};return e(l,b,B(c),f)}}function Ua(b){return z(function(d,
l){var a=-1,c=l.length,e=1<c?l[c-1]:k,f=2<c?l[2]:k,e="function"==typeof e?(c--,e):k;f&&la(l[0],l[1],f)&&(e=3>c?k:e,c=1);for(d=Object(d);++a<c;)(f=l[a])&&b(d,f,a,e);return d})}function rd(b,d){return function(l,a){if(null==l)return l;if(!da(l))return b(l,a);for(var c=l.length,e=d?c:-1,f=Object(l);(d?e--:++e<c)&&!1!==a(f[e],e,f););return l}}function sd(b){return function(d,l,a){var c=-1,e=Object(d);a=a(d);for(var f=a.length;f--;){var g=a[b?f:++c];if(!1===l(e[g],g,e))break}return d}}function Ke(b,d,
l){function a(){return(this&&this!==ma&&this instanceof a?e:b).apply(c?l:this,arguments)}var c=1&d,e=ib(b);return a}function td(b){return function(d){d=G(d);var l=qb.test(d)?d.match(Z):k,a=l?l[0]:d.charAt(0);return d=l?l.slice(1).join(""):d.slice(1),a[b]()+d}}function Va(b){return function(d){return u(ud(vd(d)),b,"")}}function ib(b){return function(){var d=arguments;switch(d.length){case 0:return new b;case 1:return new b(d[0]);case 2:return new b(d[0],d[1]);case 3:return new b(d[0],d[1],d[2]);case 4:return new b(d[0],
d[1],d[2],d[3]);case 5:return new b(d[0],d[1],d[2],d[3],d[4]);case 6:return new b(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new b(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var l=Sa(b.prototype),d=b.apply(l,d);return M(d)?d:l}}function Le(b,d,l){function a(){for(var f=arguments.length,g=Array(f),h=f,m=Wa(a);h--;)g[h]=arguments[h];return h=3>f&&g[0]!==m&&g[f-1]!==m?[]:Aa(g,m),f-=h.length,l>f?wd(b,d,Db,a.placeholder,k,g,h,k,k,l-f):c(this&&this!==ma&&this instanceof a?e:b,this,g)}var e=ib(b);return a}function xd(b){return z(function(d){d=
K(d,1);var l=d.length,a=l,c=Y.prototype.thru;for(b&&d.reverse();a--;){var e=d[a];if("function"!=typeof e)throw new aa("Expected a function");if(c&&!f&&"wrapper"==Eb(e))var f=new Y([],!0)}for(a=f?a:l;++a<l;)var e=d[a],c=Eb(e),g="wrapper"==c?kc(e):k,f=g&&lc(g[0])&&424==g[1]&&!g[4].length&&1==g[9]?f[Eb(g[0])].apply(f,g[3]):1==e.length&&lc(e)?f[c]():f.thru(e);return function(){var b=arguments,a=b[0];if(f&&1==b.length&&C(a)&&200<=a.length)return f.plant(a).value();for(var c=0,b=l?d[c].apply(this,b):a;++c<
l;)b=d[c].call(this,b);return b}})}function Db(b,d,l,a,c,e,f,g,h,m){function n(){for(var u=arguments.length,v=u,y=Array(u);v--;)y[v]=arguments[v];if(t){var J,F=Wa(n),v=y.length;for(J=0;v--;)y[v]===F&&J++}if(a&&(y=pd(y,a,c,t)),e&&(y=qd(y,e,f,t)),u-=J,t&&m>u)return F=Aa(y,F),wd(b,d,Db,n.placeholder,l,y,F,g,h,m-u);if(F=r?l:this,v=q?F[b]:b,u=y.length,g){J=y.length;for(var w=ea(g.length,J),fa=T(y);w--;){var z=g[w];y[w]=za(z,J)?fa[z]:k}}else A&&1<u&&y.reverse();return p&&u>h&&(y.length=h),this&&this!==
ma&&this instanceof n&&(v=x||ib(v)),v.apply(F,y)}var p=128&d,r=1&d,q=2&d,t=24&d,A=512&d,x=q?k:ib(b);return n}function yd(b,d){return function(a,c){return Ic(a,b,d(c),{})}}function mc(b){return z(function(d){return d=n(K(d,1),B()),z(function(a){var e=this;return b(d,function(b){return c(b,e,a)})})})}function Fb(b,d,a){return d=E(d),b=cb(b),d&&d>b?(d-=b,a=a===k?" ":a+"",b=zd(a,Gb(d/cb(a))),qb.test(a)?b.match(Z).slice(0,d).join(""):b.slice(0,d)):""}function Me(b,d,a,e){function f(){for(var d=-1,m=arguments.length,
k=-1,n=e.length,p=Array(n+m),r=this&&this!==ma&&this instanceof f?h:b;++k<n;)p[k]=e[k];for(;m--;)p[k++]=arguments[++d];return c(r,g?a:this,p)}var g=1&d,h=ib(b);return f}function Ad(b){return function(d,a,c){c&&"number"!=typeof c&&la(d,a,c)&&(a=c=k);d=R(d);d=d===d?d:0;a===k?(a=d,d=0):a=R(a)||0;c=c===k?a>d?1:-1:R(c)||0;var e=-1;a=Q(Gb((a-d)/(c||1)),0);for(var f=Array(a);a--;)f[b?a:++e]=d,d+=c;return f}}function wd(b,d,a,c,e,f,g,h,m,n){var p=8&d;h=h?T(h):k;var r=p?g:k;g=p?k:g;var q=p?f:k;return f=p?
k:f,d=(d|(p?32:64))&~(p?64:32),4&d||(d&=-4),d=[b,d,e,q,r,f,g,h,m,n],a=a.apply(k,d),lc(b)&&Bd(a,d),a.placeholder=c,a}function nc(b){var d=Xa[b];return function(b,a){if(b=R(b),a=E(a)){var c=(G(b)+"e").split("e"),c=d(c[0]+"e"+(+c[1]+a)),c=(G(c)+"e").split("e");return+(c[0]+"e"+(+c[1]-a))}return d(b)}}function va(b,d,a,c,e,f,g,h){var m=2&d;if(!m&&"function"!=typeof b)throw new aa("Expected a function");var n=c?c.length:0;if(n||(d&=-97,c=e=k),g=g===k?g:Q(E(g),0),h=h===k?h:E(h),n-=e?e.length:0,64&d){var p=
c,r=e;c=e=k}var q=m?k:kc(b);return f=[b,d,a,c,e,p,r,f,g,h],q&&(a=f[1],b=q[1],d=a|b,c=128==b&&8==a||128==b&&256==a&&q[8]>=f[7].length||384==b&&q[8]>=q[7].length&&8==a,131>d||c)&&(1&b&&(f[2]=q[2],d|=1&a?0:4),(a=q[3])&&(c=f[3],f[3]=c?pd(c,a,q[4]):T(a),f[4]=c?Aa(f[3],"__lodash_placeholder__"):T(q[4])),(a=q[5])&&(c=f[5],f[5]=c?qd(c,a,q[6]):T(a),f[6]=c?Aa(f[5],"__lodash_placeholder__"):T(q[6])),(a=q[7])&&(f[7]=T(a)),128&b&&(f[8]=null==f[8]?q[8]:ea(f[8],q[8])),null==f[9]&&(f[9]=q[9]),f[0]=q[0],f[1]=d),b=
f[0],d=f[1],a=f[2],c=f[3],e=f[4],h=f[9]=null==f[9]?m?0:b.length:Q(f[9]-n,0),!h&&24&d&&(d&=-25),m=d&&1!=d?8==d||16==d?Le(b,d,h):32!=d&&33!=d||e.length?Db.apply(k,f):Me(b,d,a,c):Ke(b,d,a),(q?Cd:Bd)(m,f)}function De(b,d,a,c,e,f){var g=-1,h=2&e,m=1&e,n=b.length,p=d.length;if(!(n==p||h&&p>n))return!1;if(p=f.get(b))return p==d;p=!0;for(f.set(b,d);++g<n;){var q=b[g],t=d[g];if(c)var u=h?c(t,q,g,d,b,f):c(q,t,g,b,d,f);if(u!==k){if(u)continue;p=!1;break}if(m){if(!r(d,function(b){return q===b||a(q,b,c,e,f)})){p=
!1;break}}else if(q!==t&&!a(q,t,c,e,f)){p=!1;break}}return f["delete"](b),p}function Fe(b,d,a,c,e,f){switch(a){case "[object ArrayBuffer]":if(b.byteLength!=d.byteLength||!c(new Bb(b),new Bb(d)))break;return!0;case "[object Boolean]":case "[object Date]":return+b==+d;case "[object Error]":return b.name==d.name&&b.message==d.message;case "[object Number]":return b!=+b?d!=+d:b==+d;case "[object RegExp]":case "[object String]":return b==d+"";case "[object Map]":var g=Ob;case "[object Set]":return g||
(g=pb),(2&f||b.size==d.size)&&c(g(b),g(d),e,1|f);case "[object Symbol]":return!!wa&&oc.call(b)==oc.call(d)}return!1}function Ee(b,d,a,c,f,e){var g=2&f,h=S(b),m=h.length,n=S(d).length;if(m!=n&&!g)return!1;for(var p=m;p--;){var r=h[p];if(!(g?r in d:$b(d,r)))return!1}if(n=e.get(b))return n==d;n=!0;e.set(b,d);for(var q=g;++p<m;){var r=h[p],t=b[r],u=d[r];if(c)var A=g?c(u,t,r,d,b,e):c(t,u,r,b,d,e);if(A===k?t!==u&&!a(t,u,c,f,e):!A){n=!1;break}q||(q="constructor"==r)}return n&&!q&&(a=b.constructor,c=d.constructor,
a!=c&&"constructor"in b&&"constructor"in d&&!("function"==typeof a&&a instanceof a&&"function"==typeof c&&c instanceof c)&&(n=!1)),e["delete"](b),n}function Eb(b){for(var d=b.name+"",a=jb[d],c=N.call(jb,d)?a.length:0;c--;){var e=a[c],f=e.func;if(null==f||f==b)return e.name}return d}function B(){var b=f.iteratee||pc,b=b===pc?Yc:b;return arguments.length?b(arguments[0],arguments[1]):b}function cc(b){b=Dd(b);for(var d=b.length;d--;){var a,c=b[d];a=b[d][1];a=a===a&&!M(a);c[2]=a}return b}function Hb(b,
d){var a=null==b?k:b[d];return Ed(a)?a:k}function Wa(b){return(N.call(f,"placeholder")?f:b).placeholder}function ja(b){return V.call(b)}function Fd(b,d,a){if(null==b)return!1;var c=a(b,d);return c||ta(d)||(d=Fa(d),b=hb(b,d),null!=b&&(d=U(d),c=a(b,d))),a=b?b.length:k,c||!!a&&kb(a)&&za(d,a)&&(C(b)||Ka(b)||Ha(b))}function ye(b){var d=b.length,a=b.constructor(d);return d&&"string"==typeof b[0]&&N.call(b,"index")&&(a.index=b.index,a.input=b.input),a}function Ae(b){return ca(b.constructor)&&!qc(b)?Sa(wb(b)):
{}}function Be(b,d,a){var c=b.constructor;switch(d){case "[object ArrayBuffer]":return od(b);case "[object Boolean]":case "[object Date]":return new c(+b);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return d=b.buffer,a=a?od(d):d,new b.constructor(a,b.byteOffset,b.length);case "[object Map]":return a=
b.constructor,u(Ob(b),h,new a);case "[object Number]":case "[object String]":return new c(b);case "[object RegExp]":return a=new b.constructor(b.source,Gd.exec(b)),a.lastIndex=b.lastIndex,a;case "[object Set]":return a=b.constructor,u(pb(b),e,new a);case "[object Symbol]":return wa?Object(oc.call(b)):{}}}function Hd(b){var d=b?b.length:k;return kb(d)&&(C(b)||Ka(b)||Ha(b))?Na(d,String):null}function la(b,d,a){if(!M(a))return!1;var c=typeof d;return("number"==c?da(a)&&za(d,a.length):"string"==c&&d in
a)?ra(a[d],b):!1}function ta(b,d){return"number"==typeof b?!0:!C(b)&&(Ne.test(b)||!Oe.test(b)||null!=d&&b in Object(d))}function Pa(b){var d=typeof b;return"number"==d||"boolean"==d||"string"==d&&"__proto__"!=b||null==b}function lc(b){var d=Eb(b),a=f[d];return"function"==typeof a&&d in D.prototype?b===a?!0:(d=kc(a),!!d&&b===d[0]):!1}function qc(b){var d=b&&b.constructor,d=ca(d)&&d.prototype||Qa;return b===d}function Id(b,d,a,c,e,f){return M(b)&&M(d)&&(f.set(d,b),xb(b,d,k,Id,f)),b}function hb(b,d){return 1==
d.length?b:fb(b,ua(d,0,-1))}function Sc(b){var d=[];return G(b).replace(Pe,function(b,a,c,e){d.push(c?e.replace(Qe,"$1"):a||b)}),d}function Oc(b){if(b instanceof D)return b.clone();var d=new Y(b.__wrapped__,b.__chain__);return d.__actions__=T(b.__actions__),d.__index__=b.__index__,d.__values__=b.__values__,d}function Jd(b,d,a){var c=b?b.length:0;return c?(d=a||d===k?1:E(d),ua(b,0>d?0:d,c)):[]}function Kd(b,d,a){var c=b?b.length:0;return c?(d=a||d===k?1:E(d),d=c-d,ua(b,0,0>d?0:d)):[]}function Ld(b){return b?
b[0]:k}function U(b){var d=b?b.length:0;return d?b[d-1]:k}function Md(b,d){return b&&b.length&&d&&d.length?id(b,d):b}function rc(b){return b?Re.call(b):b}function sc(b){if(!b||!b.length)return[];var d=0;return b=w(b,function(b){return P(b)?(d=Q(b.length,d),!0):void 0}),Na(d,function(d){return n(b,ec(d))})}function Nd(b,d){if(!b||!b.length)return[];var a=sc(b);return null==d?a:n(a,function(b){return c(d,k,b)})}function Od(b){return b=f(b),b.__chain__=!0,b}function Ib(b,d){return d(b)}function Se(){return this}
function Pd(b,d){return"function"==typeof d&&C(b)?g(b,d):sa(b,Ea(d))}function Qd(b,d){var a;if("function"==typeof d&&C(b)){for(a=b.length;a--&&!1!==d(b[a],a,b););a=b}else a=tc(b,Ea(d));return a}function Rd(b,d){return(C(b)?n:cd)(b,B(d,3))}function Sd(b,d){var a=-1,c=uc(b),e=c.length,f=e-1;for(d=Ra(E(d),0,e);++a<d;){var e=fc(a,f),g=c[e];c[e]=c[a];c[a]=g}return c.length=d,c}function Td(b,d,a){return d=a?k:d,d=b&&null==d?b.length:d,va(b,128,k,k,k,k,d)}function Ud(b,d){var a;if("function"!=typeof d)throw new aa("Expected a function");
return b=E(b),function(){return 0<--b&&(a=d.apply(this,arguments)),1>=b&&(d=k),a}}function Vd(b,d,a){return d=a?k:d,b=va(b,8,k,k,k,k,k,d),b.placeholder=Vd.placeholder,b}function Wd(b,d,a){return d=a?k:d,b=va(b,16,k,k,k,k,k,d),b.placeholder=Wd.placeholder,b}function Xd(b,d,a){function c(){t&&lb(t);n&&lb(n);A=0;m=n=q=t=u=k}function e(d,a){a&&lb(a);n=t=u=k;d&&(A=mb(),p=b.apply(q,m),t||n||(m=q=k))}function f(){var b=d-(mb()-r);0>=b||b>d?e(u,n):t=ub(f,b)}function g(){e(v,t)}function h(){if(m=arguments,
r=mb(),q=this,u=v&&(t||!x),!1===y)var a=x&&!t;else{A||n||x||(A=r);var c=y-(r-A),l=(0>=c||c>y)&&(x||n);l?(n&&(n=lb(n)),A=r,p=b.apply(q,m)):n||(n=ub(g,c))}return l&&t?t=lb(t):t||d===y||(t=ub(f,d)),a&&(l=!0,p=b.apply(q,m)),!l||t||n||(m=q=k),p}var m,n,p,r,q,t,u,A=0,x=!1,y=!1,v=!0;if("function"!=typeof b)throw new aa("Expected a function");return d=R(d)||0,M(a)&&(x=!!a.leading,y="maxWait"in a&&Q(R(a.maxWait)||0,d),v="trailing"in a?!!a.trailing:v),h.cancel=c,h.flush=function(){return(t&&u||n&&v)&&(p=b.apply(q,
m)),c(),p},h}function vc(b,d){if("function"!=typeof b||d&&"function"!=typeof d)throw new aa("Expected a function");var a=function(){var c=arguments,e=d?d.apply(this,c):c[0],f=a.cache;return f.has(e)?f.get(e):(c=b.apply(this,c),a.cache=f.set(e,c),c)};return a.cache=new vc.Cache,a}function z(b,d){if("function"!=typeof b)throw new aa("Expected a function");return d=Q(d===k?b.length-1:E(d),0),function(){for(var a=arguments,e=-1,f=Q(a.length-d,0),g=Array(f);++e<f;)g[e]=a[d+e];switch(d){case 0:return b.call(this,
g);case 1:return b.call(this,a[0],g);case 2:return b.call(this,a[0],a[1],g)}f=Array(d+1);for(e=-1;++e<d;)f[e]=a[e];return f[d]=g,c(b,this,f)}}function ra(b,d){return b===d||b!==b&&d!==d}function wc(b,d){return b>d}function Ha(b){return P(b)&&N.call(b,"callee")&&(!Yd.call(b,"callee")||"[object Arguments]"==V.call(b))}function da(b){return null!=b&&!("function"==typeof b&&ca(b))&&kb(Te(b))}function P(b){return O(b)&&da(b)}function xc(b){return O(b)?"[object Error]"==V.call(b)||"string"==typeof b.message&&
"string"==typeof b.name:!1}function ca(b){return b=M(b)?V.call(b):"","[object Function]"==b||"[object GeneratorFunction]"==b}function Zd(b){return"number"==typeof b&&b==E(b)}function kb(b){return"number"==typeof b&&-1<b&&0==b%1&&9007199254740991>=b}function M(b){var d=typeof b;return!!b&&("object"==d||"function"==d)}function O(b){return!!b&&"object"==typeof b}function Ed(b){return null==b?!1:ca(b)?$d.test(Ca.call(b)):O(b)&&(bb(b)?$d:Ue).test(b)}function ae(b){return"number"==typeof b||O(b)&&"[object Number]"==
V.call(b)}function dc(b){return!O(b)||"[object Object]"!=V.call(b)||bb(b)?!1:(b=wb(b),null===b?!0:(b=b.constructor,"function"==typeof b&&b instanceof b&&Ca.call(b)==Ve))}function be(b){return M(b)&&"[object RegExp]"==V.call(b)}function Ka(b){return"string"==typeof b||!C(b)&&O(b)&&"[object String]"==V.call(b)}function ce(b){return"symbol"==typeof b||O(b)&&"[object Symbol]"==V.call(b)}function Ta(b){return O(b)&&kb(b.length)&&!!I[V.call(b)]}function yc(b,d){return d>b}function uc(b){if(!b)return[];
if(da(b))return Ka(b)?b.match(Z):T(b);if(La&&b[La])return Mc(b[La]());var d=ja(b);return("[object Map]"==d?Ob:"[object Set]"==d?pb:Jb)(b)}function E(b){if(!b)return 0===b?b:0;if(b=R(b),b===Kb||b===-Kb)return 1.7976931348623157E308*(0>b?-1:1);var d=b%1;return b===b?d?b-d:b:0}function de(b){return b?Ra(E(b),0,4294967295):0}function R(b){if(M(b)&&(b=ca(b.valueOf)?b.valueOf():b,b=M(b)?b+"":b),"string"!=typeof b)return 0===b?b:+b;b=b.replace(zc,"");var d=We.test(b);return d||Xe.test(b)?Ye(b.slice(2),d?
2:8):Ze.test(b)?$e:+b}function ed(b){return eb(b,ba(b))}function G(b){if("string"==typeof b)return b;if(null==b)return"";if(ce(b))return wa?af.call(b):"";var d=b+"";return"0"==d&&1/b==-Kb?"-0":d}function fb(b,d,a){return b=null==b?k:Zb(b,d),b===k?a:b}function ee(b,d){return Fd(b,d,$b)}function dd(b,d){return Fd(b,d,Tb)}function S(b){var d=qc(b);if(!d&&!da(b))return bf(Object(b));var a,c=Hd(b),e=!!c,c=c||[],f=c.length;for(a in b)!$b(b,a)||e&&("length"==a||za(a,f))||d&&"constructor"==a||c.push(a);return c}
function ba(b){for(var d=-1,a=qc(b),c=bd(b),e=c.length,f=Hd(b),g=!!f,f=f||[],h=f.length;++d<e;){var m=c[d];g&&("length"==m||za(m,h))||"constructor"==m&&(a||!N.call(b,m))||f.push(m)}return f}function Dd(b){return X(b,S(b))}function Jb(b){return b?ya(b,S(b)):[]}function Ac(b){return fe(G(b).toLowerCase())}function vd(b){return(b=G(b))&&b.replace(cf,ue).replace(df,"")}function zd(b,d){b=G(b);d=E(d);var a="";if(!b||1>d||9007199254740991<d)return a;do d%2&&(a+=b),d=yb(d/2),b+=b;while(d);return a}function ud(b,
d,a){return b=G(b),d=a?k:d,d===k&&(d=ef.test(b)?ff:gf),b.match(d)||[]}function Bc(b){return function(){return b}}function ha(b){return b}function pc(b){return Yc("function"==typeof b?b:ia(b,!0))}function Cc(b,d,a){var c=S(d),e=vb(d,c);null!=a||M(d)&&(e.length||!c.length)||(a=d,d=b,b=this,e=vb(d,S(d)));var f=M(a)&&"chain"in a?a.chain:!0,h=ca(b);return g(e,function(a){var c=d[a];b[a]=c;h&&(b.prototype[a]=function(){var d=this.__chain__;if(f||d){var a=b(this.__wrapped__);return(a.__actions__=T(this.__actions__)).push({func:c,
args:arguments,thisArg:b}),a.__chain__=d,a}return c.apply(b,t([this.value()],arguments))})}),b}function Dc(){}function ad(b){return ta(b)?ec(b):Ge(b)}function ge(b){return b&&b.length?ab(b,ha):0}L=L?Da.defaults({},L,Da.pick(ma,hf)):ma;var jf=L.Date,kf=L.Error,Xa=L.Math,Ec=L.RegExp,aa=L.TypeError,Lb=L.Array.prototype,Qa=L.Object.prototype,Ca=L.Function.prototype.toString,N=Qa.hasOwnProperty,lf=0,Ve=Ca.call(Object),V=Qa.toString,mf=ma._,$d=Ec("^"+Ca.call(N).replace(Fc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),ie=he?L.Buffer:k,je=L.Reflect,wa=L.Symbol,Bb=L.Uint8Array,lb=L.clearTimeout,ke=je?je.enumerate:k,wb=Object.getPrototypeOf,nf=Object.getOwnPropertySymbols,La="symbol"==typeof(La=wa&&wa.iterator)?La:k,Ce=Object.create,Yd=Qa.propertyIsEnumerable,ub=L.setTimeout,sb=Lb.splice,Gb=Xa.ceil,yb=Xa.floor,of=L.isFinite,pf=Lb.join,bf=Object.keys,Q=Xa.max,ea=Xa.min,qf=L.parseInt,kd=Xa.random,Re=Lb.reverse,na=Hb(L,"Map"),Ma=Hb(L,"Set"),Ya=Hb(L,"WeakMap"),Za=Hb(Object,"create"),Mb=Ya&&new Ya,rf=na?
Ca.call(na):"",sf=Ma?Ca.call(Ma):"",tf=Ya?Ca.call(Ya):"",le=wa?wa.prototype:k,oc=wa?le.valueOf:k,af=wa?le.toString:k,jb={};f.templateSettings={escape:uf,evaluate:vf,interpolate:me,variable:"",imports:{_:f}};var sa=rd(ka),tc=rd(Yb,!0),Xb=sd(),Xc=sd(!0);ke&&!Yd.call({valueOf:1},"valueOf")&&(bd=function(b){return Mc(ke(b))});var Cd=Mb?function(b,d){return Mb.set(b,d),b}:ha,Ie=Ma&&2===(new Ma([1,2])).size?function(b){return new Ma(b)}:Dc,kc=Mb?function(b){return Mb.get(b)}:Dc,Te=ec("length"),Je=nf||function(){return[]};
(na&&"[object Map]"!=ja(new na)||Ma&&"[object Set]"!=ja(new Ma)||Ya&&"[object WeakMap]"!=ja(new Ya))&&(ja=function(b){var d=V.call(b);if(b="[object Object]"==d?b.constructor:null,b="function"==typeof b?Ca.call(b):"")switch(b){case rf:return"[object Map]";case sf:return"[object Set]";case tf:return"[object WeakMap]"}return d});var Bd=function(){var b=0,d=0;return function(a,c){var e=mb(),f=16-(e-d);if(d=e,0<f){if(150<=++b)return a}else b=0;return Cd(a,c)}}(),wf=z(function(b,d){C(b)||(b=null==b?[]:
[Object(b)]);d=K(d,1);for(var a=b,c=d,e=-1,f=a.length,g=-1,h=c.length,m=Array(f+h);++e<f;)m[e]=a[e];for(;++g<h;)m[e++]=c[g];return m}),xf=z(function(b,d){return P(b)?Ga(b,K(d,1,!0)):[]}),yf=z(function(b,d){var a=U(d);return P(a)&&(a=k),P(b)?Ga(b,K(d,1,!0),B(a)):[]}),zf=z(function(b,d){var a=U(d);return P(a)&&(a=k),P(b)?Ga(b,K(d,1,!0),k,a):[]}),Af=z(function(b){var d=n(b,Wb);return d.length&&d[0]===b[0]?ac(d):[]}),Bf=z(function(b){var d=U(b),a=n(b,Wb);return d===U(a)?d=k:a.pop(),a.length&&a[0]===b[0]?
ac(a,B(d)):[]}),Cf=z(function(b){var d=U(b),a=n(b,Wb);return d===U(a)?d=k:a.pop(),a.length&&a[0]===b[0]?ac(a,k,d):[]}),Df=z(Md),Ef=z(function(b,d){d=n(K(d,1),String);var a=Vb(b,d);return jd(b,d.sort(Kc)),a}),Ff=z(function(b){return Ja(K(b,1,!0))}),Gf=z(function(b){var d=U(b);return P(d)&&(d=k),Ja(K(b,1,!0),B(d))}),Hf=z(function(b){var d=U(b);return P(d)&&(d=k),Ja(K(b,1,!0),k,d)}),If=z(function(b,d){return P(b)?Ga(b,d):[]}),Jf=z(function(b){return ic(w(b,P))}),Kf=z(function(b){var d=U(b);return P(d)&&
(d=k),ic(w(b,P),B(d))}),Lf=z(function(b){var d=U(b);return P(d)&&(d=k),ic(w(b,P),k,d)}),Mf=z(sc),Nf=z(function(b){var d=b.length,d=1<d?b[d-1]:k,d="function"==typeof d?(b.pop(),d):k;return Nd(b,d)}),Of=z(function(b){b=K(b,1);var d=b.length,a=d?b[0]:0,c=this.__wrapped__,e=function(d){return Vb(d,b)};return 1>=d&&!this.__actions__.length&&c instanceof D&&za(a)?(c=c.slice(a,+a+(d?1:0)),c.__actions__.push({func:Ib,args:[e],thisArg:k}),(new Y(c,this.__chain__)).thru(function(b){return d&&!b.length&&b.push(k),
b})):this.thru(e)}),Pf=Cb(function(b,d,a){N.call(b,a)?++b[a]:b[a]=1}),Qf=Cb(function(b,d,a){N.call(b,a)?b[a].push(d):b[a]=[d]}),Rf=z(function(b,d,a){var e=-1,f="function"==typeof d,g=ta(d),h=da(b)?Array(b.length):[];return sa(b,function(b){var m=f?d:g&&null!=b?b[d]:k;h[++e]=m?c(m,b,a):gb(b,d,a)}),h}),Sf=Cb(function(b,d,a){b[a]=d}),Tf=Cb(function(b,d,a){b[a?0:1].push(d)},function(){return[[],[]]}),Uf=z(function(b,d){if(null==b)return[];var a=d.length;return 1<a&&la(b,d[0],d[1])?d=[]:2<a&&la(d[0],d[1],
d[2])&&(d.length=1),fd(b,K(d,1),[])}),mb=jf.now,Gc=z(function(b,d,a){var c=1;if(a.length)var e=Aa(a,Wa(Gc)),c=32|c;return va(b,c,d,a,e)}),ne=z(function(b,d,a){var c=3;if(a.length)var e=Aa(a,Wa(ne)),c=32|c;return va(d,c,b,a,e)}),Vf=z(function(b,d){return Vc(b,1,d)}),Wf=z(function(b,d,a){return Vc(b,R(d)||0,a)}),Xf=z(function(b,d){d=n(K(d,1),B());var a=d.length;return z(function(e){for(var f=-1,g=ea(e.length,a);++f<g;)e[f]=d[f].call(this,e[f]);return c(b,this,e)})}),Hc=z(function(b,d){var a=Aa(d,Wa(Hc));
return va(b,32,k,d,a)}),oe=z(function(b,d){var a=Aa(d,Wa(oe));return va(b,64,k,d,a)}),Yf=z(function(b,d){return va(b,256,k,k,k,K(d,1))}),C=Array.isArray,Tc=ie?function(b){return b instanceof ie}:Bc(!1),Zf=Ua(function(b,d){eb(d,S(d),b)}),pe=Ua(function(b,d){eb(d,ba(d),b)}),nb=Ua(function(b,d,a,c){jc(d,ba(d),b,c)}),$f=Ua(function(b,d,a,c){jc(d,S(d),b,c)}),ag=z(function(b,d){return Vb(b,K(d,1))}),bg=z(function(b){return b.push(k,Ub),c(nb,k,b)}),cg=z(function(b){return b.push(k,Id),c(qe,k,b)}),dg=yd(function(b,
d,a){b[d]=a},Bc(ha)),eg=yd(function(b,d,a){N.call(b,d)?b[d].push(a):b[d]=[a]},B),fg=z(gb),gg=Ua(function(b,d,a){xb(b,d,a)}),qe=Ua(function(b,d,a,c){xb(b,d,a,c)}),hg=z(function(b,d){return null==b?{}:(d=n(K(d,1),String),gd(b,Ga(ba(b),d)))}),ig=z(function(b,d){return null==b?{}:gd(b,K(d,1))}),jg=Va(function(b,d,a){return d=d.toLowerCase(),b+(a?Ac(d):d)}),kg=Va(function(b,d,a){return b+(a?"-":"")+d.toLowerCase()}),lg=Va(function(b,d,a){return b+(a?" ":"")+d.toLowerCase()}),mg=td("toLowerCase"),fe=td("toUpperCase"),
ng=Va(function(b,d,a){return b+(a?"_":"")+d.toLowerCase()}),og=Va(function(b,d,a){return b+(a?" ":"")+Ac(d)}),pg=Va(function(b,d,a){return b+(a?" ":"")+d.toUpperCase()}),re=z(function(b,d){try{return c(b,k,d)}catch(a){return xc(a)?a:new kf(a)}}),qg=z(function(b,d){return g(K(d,1),function(d){b[d]=Gc(b[d],b)}),b}),rg=xd(),sg=xd(!0),tg=z(function(b,d){return function(a){return gb(a,b,d)}}),ug=z(function(b,d){return function(a){return gb(b,a,d)}}),vg=mc(n),wg=mc(v),xg=mc(r),yg=Ad(),zg=Ad(!0),Ag=nc("ceil"),
Bg=nc("floor"),Cg=nc("round");return f.prototype=W.prototype,Y.prototype=Sa(W.prototype),Y.prototype.constructor=Y,D.prototype=Sa(W.prototype),D.prototype.constructor=D,xa.prototype=Za?Za(null):Qa,Ba.prototype.clear=function(){this.__data__={hash:new xa,map:na?new na:[],string:new xa}},Ba.prototype["delete"]=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,(Za?d[b]!==k:N.call(d,b))&&delete d[b]):na?d.map["delete"](b):$a(d.map,b)},Ba.prototype.get=function(b){var d=
this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,Za?(b=d[b],b="__lodash_hash_undefined__"===b?k:b):b=N.call(d,b)?d[b]:k,b):na?d.map.get(b):ob(d.map,b)},Ba.prototype.has=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,b=Za?d[b]!==k:N.call(d,b)):b=na?d.map.has(b):-1<db(d.map,b),b},Ba.prototype.set=function(b,d){var a=this.__data__;return Pa(b)?("string"==typeof b?a.string:a.hash)[b]=Za&&d===k?"__lodash_hash_undefined__":d:na?a.map.set(b,d):Pc(a.map,
b,d),this},oa.prototype.push=function(b){var d=this.__data__;Pa(b)?(d=d.__data__,("string"==typeof b?d.string:d.hash)[b]="__lodash_hash_undefined__"):d.set(b,"__lodash_hash_undefined__")},qa.prototype.clear=function(){this.__data__={array:[],map:null}},qa.prototype["delete"]=function(b){var d=this.__data__,a=d.array;return a?$a(a,b):d.map["delete"](b)},qa.prototype.get=function(b){var d=this.__data__,a=d.array;return a?ob(a,b):d.map.get(b)},qa.prototype.has=function(b){var d=this.__data__,a=d.array;
return a?-1<db(a,b):d.map.has(b)},qa.prototype.set=function(b,d){var a=this.__data__,c=a.array;return c&&(199>c.length?Pc(c,b,d):(a.array=null,a.map=new Ba(c))),(a=a.map)&&a.set(b,d),this},vc.Cache=Ba,f.after=function(b,d){if("function"!=typeof d)throw new aa("Expected a function");return b=E(b),function(){return 1>--b?d.apply(this,arguments):void 0}},f.ary=Td,f.assign=Zf,f.assignIn=pe,f.assignInWith=nb,f.assignWith=$f,f.at=ag,f.before=Ud,f.bind=Gc,f.bindAll=qg,f.bindKey=ne,f.castArray=function(){if(!arguments.length)return[];
var b=arguments[0];return C(b)?b:[b]},f.chain=Od,f.chunk=function(b,d){d=Q(E(d),0);var a=b?b.length:0;if(!a||1>d)return[];for(var c=0,e=-1,f=Array(Gb(a/d));a>c;)f[++e]=ua(b,c,c+=d);return f},f.compact=function(b){for(var d=-1,a=b?b.length:0,c=-1,e=[];++d<a;){var f=b[d];f&&(e[++c]=f)}return e},f.concat=wf,f.cond=function(b){var d=b?b.length:0,a=B();return b=d?n(b,function(b){if("function"!=typeof b[1])throw new aa("Expected a function");return[a(b[0]),b[1]]}):[],z(function(a){for(var e=-1;++e<d;){var f=
b[e];if(c(f[0],this,a))return c(f[1],this,a)}})},f.conforms=function(b){return Qb(ia(b,!0))},f.constant=Bc,f.countBy=Pf,f.create=function(b,d){var a=Sa(b);return d?Rc(a,d):a},f.curry=Vd,f.curryRight=Wd,f.debounce=Xd,f.defaults=bg,f.defaultsDeep=cg,f.defer=Vf,f.delay=Wf,f.difference=xf,f.differenceBy=yf,f.differenceWith=zf,f.drop=Jd,f.dropRight=Kd,f.dropRightWhile=function(b,d){return b&&b.length?Ab(b,B(d,3),!0,!0):[]},f.dropWhile=function(b,d){return b&&b.length?Ab(b,B(d,3),!0):[]},f.fill=function(b,
d,a,c){var e=b?b.length:0;if(!e)return[];a&&"number"!=typeof a&&la(b,d,a)&&(a=0,c=e);e=b.length;a=E(a);0>a&&(a=-a>e?0:e+a);c=c===k||c>e?e:E(c);0>c&&(c+=e);for(c=a>c?0:de(c);c>a;)b[a++]=d;return b},f.filter=function(b,d){return(C(b)?w:Wc)(b,B(d,3))},f.flatMap=function(b,d){return K(Rd(b,d),1)},f.flatten=function(b){return b&&b.length?K(b,1):[]},f.flattenDeep=function(b){return b&&b.length?K(b,Kb):[]},f.flattenDepth=function(b,d){return b&&b.length?(d=d===k?1:E(d),K(b,d)):[]},f.flip=function(b){return va(b,
512)},f.flow=rg,f.flowRight=sg,f.fromPairs=function(b){for(var d=-1,a=b?b.length:0,c={};++d<a;){var e=b[d];c[e[0]]=e[1]}return c},f.functions=function(b){return null==b?[]:vb(b,S(b))},f.functionsIn=function(b){return null==b?[]:vb(b,ba(b))},f.groupBy=Qf,f.initial=function(b){return Kd(b,1)},f.intersection=Af,f.intersectionBy=Bf,f.intersectionWith=Cf,f.invert=dg,f.invertBy=eg,f.invokeMap=Rf,f.iteratee=pc,f.keyBy=Sf,f.keys=S,f.keysIn=ba,f.map=Rd,f.mapKeys=function(b,d){var a={};return d=B(d,3),ka(b,
function(b,c,e){a[d(b,c,e)]=b}),a},f.mapValues=function(b,d){var a={};return d=B(d,3),ka(b,function(b,c,e){a[c]=d(b,c,e)}),a},f.matches=function(b){return $c(ia(b,!0))},f.matchesProperty=function(b,d){return Zc(b,ia(d,!0))},f.memoize=vc,f.merge=gg,f.mergeWith=qe,f.method=tg,f.methodOf=ug,f.mixin=Cc,f.negate=function(b){if("function"!=typeof b)throw new aa("Expected a function");return function(){return!b.apply(this,arguments)}},f.nthArg=function(b){return b=E(b),function(){return arguments[b]}},f.omit=
hg,f.omitBy=function(b,d){return d=B(d),hd(b,function(b,a){return!d(b,a)})},f.once=function(b){return Ud(2,b)},f.orderBy=function(b,d,a,c){return null==b?[]:(C(d)||(d=null==d?[]:[d]),a=c?k:a,C(a)||(a=null==a?[]:[a]),fd(b,d,a))},f.over=vg,f.overArgs=Xf,f.overEvery=wg,f.overSome=xg,f.partial=Hc,f.partialRight=oe,f.partition=Tf,f.pick=ig,f.pickBy=function(b,d){return null==b?{}:hd(b,B(d))},f.property=ad,f.propertyOf=function(b){return function(d){return null==b?k:Zb(b,d)}},f.pull=Df,f.pullAll=Md,f.pullAllBy=
function(b,d,a){return b&&b.length&&d&&d.length?id(b,d,B(a)):b},f.pullAt=Ef,f.range=yg,f.rangeRight=zg,f.rearg=Yf,f.reject=function(b,d){var a=C(b)?w:Wc;return d=B(d,3),a(b,function(b,a,c){return!d(b,a,c)})},f.remove=function(b,d){var a=[];if(!b||!b.length)return a;var c=-1,e=[],f=b.length;for(d=B(d,3);++c<f;){var g=b[c];d(g,c,b)&&(a.push(g),e.push(c))}return jd(b,e),a},f.rest=z,f.reverse=rc,f.sampleSize=Sd,f.set=function(b,d,a){return null==b?b:gc(b,d,a)},f.setWith=function(b,d,a,c){return c="function"==
typeof c?c:k,null==b?b:gc(b,d,a,c)},f.shuffle=function(b){return Sd(b,4294967295)},f.slice=function(b,d,a){var c=b?b.length:0;return c?(a&&"number"!=typeof a&&la(b,d,a)?(d=0,a=c):(d=null==d?0:E(d),a=a===k?c:E(a)),ua(b,d,a)):[]},f.sortBy=Uf,f.sortedUniq=function(b){return b&&b.length?ld(b):[]},f.sortedUniqBy=function(b,d){return b&&b.length?ld(b,B(d)):[]},f.split=function(b,d,a){return G(b).split(d,a)},f.spread=function(b,d){if("function"!=typeof b)throw new aa("Expected a function");return d=d===
k?0:Q(E(d),0),z(function(a){var e=a[d];return a=a.slice(0,d),e&&t(a,e),c(b,this,a)})},f.tail=function(b){return Jd(b,1)},f.take=function(b,d,a){return b&&b.length?(d=a||d===k?1:E(d),ua(b,0,0>d?0:d)):[]},f.takeRight=function(b,d,a){var c=b?b.length:0;return c?(d=a||d===k?1:E(d),d=c-d,ua(b,0>d?0:d,c)):[]},f.takeRightWhile=function(b,d){return b&&b.length?Ab(b,B(d,3),!1,!0):[]},f.takeWhile=function(b,d){return b&&b.length?Ab(b,B(d,3)):[]},f.tap=function(b,d){return d(b),b},f.throttle=function(b,d,a){var c=
!0,e=!0;if("function"!=typeof b)throw new aa("Expected a function");return M(a)&&(c="leading"in a?!!a.leading:c,e="trailing"in a?!!a.trailing:e),Xd(b,d,{leading:c,maxWait:d,trailing:e})},f.thru=Ib,f.toArray=uc,f.toPairs=Dd,f.toPairsIn=function(b){return X(b,ba(b))},f.toPath=function(b){return C(b)?n(b,String):Sc(b)},f.toPlainObject=ed,f.transform=function(b,d,a){var c=C(b)||Ta(b);if(d=B(d,4),null==a)if(c||M(b)){var e=b.constructor;a=c?C(b)?new e:[]:ca(e)?Sa(wb(b)):{}}else a={};return(c?g:ka)(b,function(b,
c,e){return d(a,b,c,e)}),a},f.unary=function(b){return Td(b,1)},f.union=Ff,f.unionBy=Gf,f.unionWith=Hf,f.uniq=function(b){return b&&b.length?Ja(b):[]},f.uniqBy=function(b,d){return b&&b.length?Ja(b,B(d)):[]},f.uniqWith=function(b,d){return b&&b.length?Ja(b,k,d):[]},f.unset=function(b,d){var a;if(null==b)a=!0;else{a=b;var c=d,c=ta(c,a)?[c+""]:Fa(c);a=hb(a,c);c=U(c);a=null!=a&&ee(a,c)?delete a[c]:!0}return a},f.unzip=sc,f.unzipWith=Nd,f.values=Jb,f.valuesIn=function(b){return null==b?[]:ya(b,ba(b))},
f.without=If,f.words=ud,f.wrap=function(b,d){return d=null==d?ha:d,Hc(d,b)},f.xor=Jf,f.xorBy=Kf,f.xorWith=Lf,f.zip=Mf,f.zipObject=function(b,d){return nd(b||[],d||[],tb)},f.zipObjectDeep=function(b,d){return nd(b||[],d||[],gc)},f.zipWith=Nf,f.extend=pe,f.extendWith=nb,Cc(f,f),f.add=function(b,d){var a;return b===k&&d===k?0:(b!==k&&(a=b),d!==k&&(a=a===k?d:a+d),a)},f.attempt=re,f.camelCase=jg,f.capitalize=Ac,f.ceil=Ag,f.clamp=function(b,d,a){return a===k&&(a=d,d=k),a!==k&&(a=R(a),a=a===a?a:0),d!==k&&
(d=R(d),d=d===d?d:0),Ra(R(b),d,a)},f.clone=function(b){return ia(b)},f.cloneDeep=function(b){return ia(b,!0)},f.cloneDeepWith=function(b,d){return ia(b,!0,d)},f.cloneWith=function(b,d){return ia(b,!1,d)},f.deburr=vd,f.endsWith=function(b,d,a){b=G(b);d="string"==typeof d?d:d+"";var c=b.length;return a=a===k?c:Ra(E(a),0,c),a-=d.length,0<=a&&b.indexOf(d,a)==a},f.eq=ra,f.escape=function(b){return(b=G(b))&&Dg.test(b)?b.replace(se,ve):b},f.escapeRegExp=function(b){return(b=G(b))&&Eg.test(b)?b.replace(Fc,
"\\$&"):b},f.every=function(b,d,a){var c=C(b)?v:Rb;return a&&la(b,d,a)&&(d=k),c(b,B(d,3))},f.find=function(b,d){if(d=B(d,3),C(b)){var a=y(b,d);return-1<a?b[a]:k}return q(b,d,sa)},f.findIndex=function(b,d){return b&&b.length?y(b,B(d,3)):-1},f.findKey=function(b,d){return q(b,B(d,3),ka,!0)},f.findLast=function(b,d){if(d=B(d,3),C(b)){var a=y(b,d,!0);return-1<a?b[a]:k}return q(b,d,tc)},f.findLastIndex=function(b,d){return b&&b.length?y(b,B(d,3),!0):-1},f.findLastKey=function(b,d){return q(b,B(d,3),Yb,
!0)},f.floor=Bg,f.forEach=Pd,f.forEachRight=Qd,f.forIn=function(b,d){return null==b?b:Xb(b,Ea(d),ba)},f.forInRight=function(b,d){return null==b?b:Xc(b,Ea(d),ba)},f.forOwn=function(b,d){return b&&ka(b,Ea(d))},f.forOwnRight=function(b,d){return b&&Yb(b,Ea(d))},f.get=fb,f.gt=wc,f.gte=function(b,d){return b>=d},f.has=ee,f.hasIn=dd,f.head=Ld,f.identity=ha,f.includes=function(b,d,a,c){return b=da(b)?b:Jb(b),a=a&&!c?E(a):0,c=b.length,0>a&&(a=Q(c+a,0)),Ka(b)?c>=a&&-1<b.indexOf(d,a):!!c&&-1<p(b,d,a)},f.indexOf=
function(b,a,c){var e=b?b.length:0;return e?(c=E(c),0>c&&(c=Q(e+c,0)),p(b,a,c)):-1},f.inRange=function(b,a,c){return a=R(a)||0,c===k?(c=a,a=0):c=R(c)||0,b=R(b),b>=ea(a,c)&&b<Q(a,c)},f.invoke=fg,f.isArguments=Ha,f.isArray=C,f.isArrayBuffer=function(b){return O(b)&&"[object ArrayBuffer]"==V.call(b)},f.isArrayLike=da,f.isArrayLikeObject=P,f.isBoolean=function(b){return!0===b||!1===b||O(b)&&"[object Boolean]"==V.call(b)},f.isBuffer=Tc,f.isDate=function(b){return O(b)&&"[object Date]"==V.call(b)},f.isElement=
function(b){return!!b&&1===b.nodeType&&O(b)&&!dc(b)},f.isEmpty=function(b){if(da(b)&&(C(b)||Ka(b)||ca(b.splice)||Ha(b)))return!b.length;for(var a in b)if(N.call(b,a))return!1;return!0},f.isEqual=function(b,a){return Ia(b,a)},f.isEqualWith=function(b,a,c){var e=(c="function"==typeof c?c:k)?c(b,a):k;return e===k?Ia(b,a,c):!!e},f.isError=xc,f.isFinite=function(b){return"number"==typeof b&&of(b)},f.isFunction=ca,f.isInteger=Zd,f.isLength=kb,f.isMap=function(b){return O(b)&&"[object Map]"==ja(b)},f.isMatch=
function(b,a){return b===a||bc(b,a,cc(a))},f.isMatchWith=function(b,a,c){return c="function"==typeof c?c:k,bc(b,a,cc(a),c)},f.isNaN=function(b){return ae(b)&&b!=+b},f.isNative=Ed,f.isNil=function(b){return null==b},f.isNull=function(b){return null===b},f.isNumber=ae,f.isObject=M,f.isObjectLike=O,f.isPlainObject=dc,f.isRegExp=be,f.isSafeInteger=function(b){return Zd(b)&&-9007199254740991<=b&&9007199254740991>=b},f.isSet=function(b){return O(b)&&"[object Set]"==ja(b)},f.isString=Ka,f.isSymbol=ce,f.isTypedArray=
Ta,f.isUndefined=function(b){return b===k},f.isWeakMap=function(b){return O(b)&&"[object WeakMap]"==ja(b)},f.isWeakSet=function(b){return O(b)&&"[object WeakSet]"==V.call(b)},f.join=function(b,a){return b?pf.call(b,a):""},f.kebabCase=kg,f.last=U,f.lastIndexOf=function(b,a,c){var e=b?b.length:0;if(!e)return-1;var f=e;if(c!==k&&(f=E(c),f=(0>f?Q(e+f,0):ea(f,e-1))+1),a!==a)return Lc(b,f,!0);for(;f--;)if(b[f]===a)return f;return-1},f.lowerCase=lg,f.lowerFirst=mg,f.lt=yc,f.lte=function(b,a){return a>=b},
f.max=function(b){return b&&b.length?A(b,ha,wc):k},f.maxBy=function(b,a){return b&&b.length?A(b,B(a),wc):k},f.mean=function(b){return ge(b)/(b?b.length:0)},f.min=function(b){return b&&b.length?A(b,ha,yc):k},f.minBy=function(b,a){return b&&b.length?A(b,B(a),yc):k},f.noConflict=function(){return ma._===this&&(ma._=mf),this},f.noop=Dc,f.now=mb,f.pad=function(b,a,c){b=G(b);a=E(a);var e=cb(b);return a&&a>e?(e=(a-e)/2,a=yb(e),e=Gb(e),Fb("",a,c)+b+Fb("",e,c)):b},f.padEnd=function(b,a,c){return b=G(b),b+
Fb(b,a,c)},f.padStart=function(b,a,c){return b=G(b),Fb(b,a,c)+b},f.parseInt=function(b,a,c){return c||null==a?a=0:a&&(a=+a),b=G(b).replace(zc,""),qf(b,a||(Fg.test(b)?16:10))},f.random=function(b,a,c){if(c&&"boolean"!=typeof c&&la(b,a,c)&&(a=c=k),c===k&&("boolean"==typeof a?(c=a,a=k):"boolean"==typeof b&&(c=b,b=k)),b===k&&a===k?(b=0,a=1):(b=R(b)||0,a===k?(a=b,b=0):a=R(a)||0),b>a){var e=b;b=a;a=e}return c||b%1||a%1?(c=kd(),ea(b+c*(a-b+Gg("1e-"+((c+"").length-1))),a)):fc(b,a)},f.reduce=function(b,a,
c){var e=C(b)?u:J,f=3>arguments.length;return e(b,B(a,4),c,f,sa)},f.reduceRight=function(b,a,c){var e=C(b)?F:J,f=3>arguments.length;return e(b,B(a,4),c,f,tc)},f.repeat=zd,f.replace=function(){var b=arguments,a=G(b[0]);return 3>b.length?a:a.replace(b[1],b[2])},f.result=function(b,a,c){if(ta(a,b))e=null==b?k:b[a];else{a=Fa(a);var e=fb(b,a);b=hb(b,a)}return e===k&&(e=c),ca(e)?e.call(b):e},f.round=Cg,f.runInContext=Nc,f.sample=function(b){b=da(b)?b:Jb(b);var a=b.length;return 0<a?b[fc(0,a-1)]:k},f.size=
function(b){if(null==b)return 0;if(da(b)){var a=b.length;return a&&Ka(b)?cb(b):a}return S(b).length},f.snakeCase=ng,f.some=function(b,a,c){var e=C(b)?r:He;return c&&la(b,a,c)&&(a=k),e(b,B(a,3))},f.sortedIndex=function(b,a){return zb(b,a)},f.sortedIndexBy=function(b,a,c){return hc(b,a,B(c))},f.sortedIndexOf=function(b,a){var c=b?b.length:0;if(c){var e=zb(b,a);if(c>e&&ra(b[e],a))return e}return-1},f.sortedLastIndex=function(b,a){return zb(b,a,!0)},f.sortedLastIndexBy=function(b,a,c){return hc(b,a,B(c),
!0)},f.sortedLastIndexOf=function(b,a){if(b&&b.length){var c=zb(b,a,!0)-1;if(ra(b[c],a))return c}return-1},f.startCase=og,f.startsWith=function(b,a,c){return b=G(b),c=Ra(E(c),0,b.length),b.lastIndexOf(a,c)==c},f.subtract=function(b,a){var c;return b===k&&a===k?0:(b!==k&&(c=b),a!==k&&(c=c===k?a:c-a),c)},f.sum=ge,f.sumBy=function(b,a){return b&&b.length?ab(b,B(a)):0},f.template=function(b,a,c){var e=f.templateSettings;c&&la(b,a,c)&&(a=k);b=G(b);a=nb({},a,e,Ub);c=nb({},a.imports,e.imports,Ub);var g,
h,m=S(c),n=ya(c,m),p=0;c=a.interpolate||Nb;var r="__p+='";c=Ec((a.escape||Nb).source+"|"+c.source+"|"+(c===me?Hg:Nb).source+"|"+(a.evaluate||Nb).source+"|$","g");var q="sourceURL"in a?"//# sourceURL="+a.sourceURL+"\n":"";if(b.replace(c,function(a,d,c,e,f,m){return c||(c=e),r+=b.slice(p,m).replace(Ig,we),d&&(g=!0,r+="'+__e("+d+")+'"),f&&(h=!0,r+="';"+f+";\n__p+='"),c&&(r+="'+((__t=("+c+"))==null?'':__t)+'"),p=m+a.length,a}),r+="';",(a=a.variable)||(r="with(obj){"+r+"}"),r=(h?r.replace(Jg,""):r).replace(Kg,
"$1").replace(Lg,"$1;"),r="function("+(a||"obj")+"){"+(a?"":"obj||(obj={});")+"var __t,__p=''"+(g?",__e=_.escape":"")+(h?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+r+"return __p}",a=re(function(){return Function(m,q+"return "+r).apply(k,n)}),a.source=r,xc(a))throw a;return a},f.times=function(b,a){if(b=E(b),1>b||9007199254740991<b)return[];var c=4294967295,e=ea(b,4294967295);a=Ea(a);b-=4294967295;for(e=Na(e,a);++c<b;)a(c);return e},f.toInteger=E,f.toLength=de,f.toLower=
function(b){return G(b).toLowerCase()},f.toNumber=R,f.toSafeInteger=function(b){return Ra(E(b),-9007199254740991,9007199254740991)},f.toString=G,f.toUpper=function(b){return G(b).toUpperCase()},f.trim=function(b,a,c){return(b=G(b))?c||a===k?b.replace(zc,""):(a+="")?(b=b.match(Z),a=a.match(Z),b.slice(ga(b,a),Jc(b,a)+1).join("")):b:b},f.trimEnd=function(b,a,c){return(b=G(b))?c||a===k?b.replace(Mg,""):(a+="")?(b=b.match(Z),b.slice(0,Jc(b,a.match(Z))+1).join("")):b:b},f.trimStart=function(b,a,c){return(b=
G(b))?c||a===k?b.replace(Ng,""):(a+="")?(b=b.match(Z),b.slice(ga(b,a.match(Z))).join("")):b:b},f.truncate=function(b,a){var c=30,e="...";if(M(a))var f="separator"in a?a.separator:f,c="length"in a?E(a.length):c,e="omission"in a?G(a.omission):e;b=G(b);var g=b.length;if(qb.test(b))var h=b.match(Z),g=h.length;if(c>=g)return b;if(g=c-cb(e),1>g)return e;if(c=h?h.slice(0,g).join(""):b.slice(0,g),f===k)return c+e;if(h&&(g+=c.length-g),be(f)){if(b.slice(g).search(f)){var m=c;f.global||(f=Ec(f.source,G(Gd.exec(f))+
"g"));for(f.lastIndex=0;h=f.exec(m);)var n=h.index;c=c.slice(0,n===k?g:n)}}else b.indexOf(f,g)!=g&&(f=c.lastIndexOf(f),-1<f&&(c=c.slice(0,f)));return c+e},f.unescape=function(b){return(b=G(b))&&Og.test(b)?b.replace(te,xe):b},f.uniqueId=function(b){var a=++lf;return G(b)+a},f.upperCase=pg,f.upperFirst=fe,f.each=Pd,f.eachRight=Qd,f.first=Ld,Cc(f,function(){var b={};return ka(f,function(a,c){N.call(f.prototype,c)||(b[c]=a)}),b}(),{chain:!1}),f.VERSION="4.5.1",g("bind bindKey curry curryRight partial partialRight".split(" "),
function(b){f[b].placeholder=f}),g(["drop","take"],function(b,a){D.prototype[b]=function(c){var e=this.__filtered__;if(e&&!a)return new D(this);c=c===k?1:Q(E(c),0);var f=this.clone();return e?f.__takeCount__=ea(c,f.__takeCount__):f.__views__.push({size:ea(c,4294967295),type:b+(0>f.__dir__?"Right":"")}),f};D.prototype[b+"Right"]=function(a){return this.reverse()[b](a).reverse()}}),g(["filter","map","takeWhile"],function(b,a){var c=a+1,e=1==c||3==c;D.prototype[b]=function(b){var a=this.clone();return a.__iteratees__.push({iteratee:B(b,
3),type:c}),a.__filtered__=a.__filtered__||e,a}}),g(["head","last"],function(b,a){var c="take"+(a?"Right":"");D.prototype[b]=function(){return this[c](1).value()[0]}}),g(["initial","tail"],function(b,a){var c="drop"+(a?"":"Right");D.prototype[b]=function(){return this.__filtered__?new D(this):this[c](1)}}),D.prototype.compact=function(){return this.filter(ha)},D.prototype.find=function(b){return this.filter(b).head()},D.prototype.findLast=function(b){return this.reverse().find(b)},D.prototype.invokeMap=
z(function(b,a){return"function"==typeof b?new D(this):this.map(function(c){return gb(c,b,a)})}),D.prototype.reject=function(b){return b=B(b,3),this.filter(function(a){return!b(a)})},D.prototype.slice=function(b,a){b=E(b);var c=this;return c.__filtered__&&(0<b||0>a)?new D(c):(0>b?c=c.takeRight(-b):b&&(c=c.drop(b)),a!==k&&(a=E(a),c=0>a?c.dropRight(-a):c.take(a-b)),c)},D.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},D.prototype.toArray=function(){return this.take(4294967295)},
ka(D.prototype,function(b,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),e=/^(?:head|last)$/.test(a),g=f[e?"take"+("last"==a?"Right":""):a],h=e||/^find/.test(a);g&&(f.prototype[a]=function(){var a=this.__wrapped__,d=e?[1]:arguments,m=a instanceof D,n=d[0],p=m||C(a),r=function(b){return b=g.apply(f,t([b],d)),e&&q?b[0]:b};p&&c&&"function"==typeof n&&1!=n.length&&(m=p=!1);var q=this.__chain__,u=!!this.__actions__.length,n=h&&!q,m=m&&!u;return!h&&p?(a=m?a:new D(this),a=b.apply(a,d),a.__actions__.push({func:Ib,
args:[r],thisArg:k}),new Y(a,q)):n&&m?b.apply(this,d):(a=this.thru(r),n?e?a.value()[0]:a.value():a)})}),g("pop push shift sort splice unshift".split(" "),function(b){var a=Lb[b],c=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",e=/^(?:pop|shift)$/.test(b);f.prototype[b]=function(){var b=arguments;return e&&!this.__chain__?a.apply(this.value(),b):this[c](function(c){return a.apply(c,b)})}}),ka(D.prototype,function(b,a){var c=f[a];if(c){var e=c.name+"";(jb[e]||(jb[e]=[])).push({name:a,func:c})}}),jb[Db(k,
2).name]=[{name:"wrapper",func:k}],D.prototype.clone=function(){var b=new D(this.__wrapped__);return b.__actions__=T(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=T(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=T(this.__views__),b},D.prototype.reverse=function(){if(this.__filtered__){var b=new D(this);b.__dir__=-1;b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b},D.prototype.value=function(){var b,a=this.__wrapped__.value(),
c=this.__dir__,e=C(a),f=0>c,g=e?a.length:0;b=0;for(var h=g,m=this.__views__,n=-1,k=m.length;++n<k;){var p=m[n],r=p.size;switch(p.type){case "drop":b+=r;break;case "dropRight":h-=r;break;case "take":h=ea(h,b+r);break;case "takeRight":b=Q(b,h-r)}}if(b={start:b,end:h},h=b.start,m=b.end,b=m-h,f=f?m:h-1,h=this.__iteratees__,m=h.length,n=0,k=ea(b,this.__takeCount__),!e||200>g||g==b&&k==b)return md(a,this.__actions__);e=[];a:for(;b--&&k>n;){f+=c;g=-1;for(p=a[f];++g<m;){var q=h[g],r=q.type,q=(0,q.iteratee)(p);
if(2==r)p=q;else if(!q){if(1==r)continue a;break a}}e[n++]=p}return e},f.prototype.at=Of,f.prototype.chain=function(){return Od(this)},f.prototype.commit=function(){return new Y(this.value(),this.__chain__)},f.prototype.flatMap=function(b){return this.map(b).flatten()},f.prototype.next=function(){this.__values__===k&&(this.__values__=uc(this.value()));var b=this.__index__>=this.__values__.length,a=b?k:this.__values__[this.__index__++];return{done:b,value:a}},f.prototype.plant=function(b){for(var a,
c=this;c instanceof W;){var e=Oc(c);e.__index__=0;e.__values__=k;a?f.__wrapped__=e:a=e;var f=e,c=c.__wrapped__}return f.__wrapped__=b,a},f.prototype.reverse=function(){var b=this.__wrapped__;return b instanceof D?(this.__actions__.length&&(b=new D(this)),b=b.reverse(),b.__actions__.push({func:Ib,args:[rc],thisArg:k}),new Y(b,this.__chain__)):this.thru(rc)},f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return md(this.__wrapped__,this.__actions__)},La&&(f.prototype[La]=Se),f}var k,
Kb=1/0,$e=NaN,Jg=/\b__p\+='';/g,Kg=/\b(__p\+=)''\+/g,Lg=/(__e\(.*?\)|\b__t\))\+'';/g,te=/&(?:amp|lt|gt|quot|#39|#96);/g,se=/[&<>"'`]/g,Og=RegExp(te.source),Dg=RegExp(se.source),uf=/<%-([\s\S]+?)%>/g,vf=/<%([\s\S]+?)%>/g,me=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,Fc=/[\\^$.*+?()[\]{}|]/g,Eg=RegExp(Fc.source),zc=/^\s+|\s+$/g,Ng=/^\s+/,Mg=/\s+$/,Qe=/\\(\\)?/g,Hg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
Gd=/\w*$/,Fg=/^0x/i,Ze=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Ue=/^\[object .+?Constructor\]$/,Xe=/^0o[0-7]+$/i,Sb=/^(?:0|[1-9]\d*)$/,cf=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Nb=/($^)/,Ig=/['\n\r\u2028\u2029\\]/g,df=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,Z=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
qb=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,gf=/[a-zA-Z0-9]+/g,ff=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+|[A-Z\xc0-\xd6\xd8-\xde]+|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
ef=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hf="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=
I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0;I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Error]"]=I["[object Function]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object WeakMap]"]=!1;var H={};H["[object Arguments]"]=H["[object Array]"]=H["[object ArrayBuffer]"]=H["[object Boolean]"]=H["[object Date]"]=H["[object Float32Array]"]=
H["[object Float64Array]"]=H["[object Int8Array]"]=H["[object Int16Array]"]=H["[object Int32Array]"]=H["[object Map]"]=H["[object Number]"]=H["[object Object]"]=H["[object RegExp]"]=H["[object Set]"]=H["[object String]"]=H["[object Symbol]"]=H["[object Uint8Array]"]=H["[object Uint8ClampedArray]"]=H["[object Uint16Array]"]=H["[object Uint32Array]"]=!0;H["[object Error]"]=H["[object Function]"]=H["[object WeakMap]"]=!1;var Pb={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A",
"\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o",
"\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Qb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Tb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},W={"function":!0,object:!0},Rb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gg=parseFloat,Ye=parseInt,
xa=W[typeof exports]&&exports&&!exports.nodeType?exports:k,oa=W[typeof module]&&module&&!module.nodeType?module:k,he=oa&&oa.exports===xa?xa:k,Ic=pa(xa&&oa&&"object"==typeof global&&global),ob=pa(W[typeof self]&&self),$a=pa(W[typeof window]&&window),W=pa(W[typeof this]&&this),ma=Ic||$a!==(W&&W.window)&&$a||ob||W||Function("return this")(),Da=Nc();($a||ob||{})._=Da;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("third_party/lo-dash/lo-dash.min",[],function(){return Da}):xa&&
oa?(he&&((oa.exports=Da)._=Da),xa._=Da):ma._=Da}).call(this);
define("qowtRoot/errors/localisedError",["qowtRoot/utils/typeUtils","qowtRoot/utils/i18n","third_party/lo-dash/lo-dash.min"],function(h,e){var c=function(a){a=a||"";this.name="LocalisedError";h.isObject(a)&&_.extend(this,a);this.message=(this.code?this.code+": ":"")+(this.message||JSON.stringify(a)||this.title||this.details||this.additionalInfo);this.title=e.getMessage(this.title);this.details=a.fileName?e.getMessage(this.details,a.fileName):e.getMessage(this.details);this.linkData&&this.linkData.msg&&
(this.linkData.msg=e.getMessage(this.linkData.msg)||this.linkData.msg);Error.captureStackTrace(this,c)};c.prototype=Object.create(Error.prototype);return c.prototype.constructor=c});define("qowtRoot/errors/qowtException",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTException";Error.captureStackTrace(this,e);this.fatal=!0};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTException=e});
define("background/store/fileDetails",["qowtRoot/utils/typeUtils","qowtRoot/errors/qowtException"],function(h,e){var c=function(a){this.mimeType=a.mimeType||a.mimeType_;this.streamURL=a.streamURL||a.streamURL_;this.originalURL=a.originalURL||a.originalURL_;this.preferredFilename=a.preferredFilename||a.preferredFilename_;this.driveDocId=a.driveDocId||a.driveDocId_;this.driveDocResourceKey=a.driveDocResourceKey||a.driveDocResourceKey_;this.embedded=a.embedded||a.embedded_;this.userFile=a.userFile||
a.userFile_;this.newDocument=a.newDocument;this.tabId=a.tabId||a.tabId_;this.privateFilePath=a.privateFilePath||a.privateFilePath_;this.downloadFilePath=a.downloadFilePath||a.downloadFilePath_;this.timestamp=a.timestamp||a.timestamp_;this.observerFunc_=void 0;Object.seal(this)};c.prototype=Object.create(Object.prototype,{tabId:{set:function(a){this.tabId_=a;this.invokeObserver_()},get:function(){return this.tabId_}},privateFilePath:{set:function(a){this.privateFilePath_=a;this.invokeObserver_()},
get:function(){return this.privateFilePath_}},downloadFilePath:{set:function(a){this.downloadFilePath_=a;this.invokeObserver_()},get:function(){return this.downloadFilePath_}},timestamp:{set:function(a){this.timestamp_=a;this.invokeObserver_()},get:function(){return this.timestamp_}},mimeType:{set:function(a){this.mimeType_=a;this.invokeObserver_()},get:function(){return this.mimeType_}},streamURL:{set:function(a){this.streamURL_=a;this.invokeObserver_()},get:function(){return this.streamURL_}},originalURL:{set:function(a){this.originalURL_=
a;this.invokeObserver_()},get:function(){return this.originalURL_}},preferredFilename:{set:function(a){this.preferredFilename_=a;this.invokeObserver_()},get:function(){return this.preferredFilename_}},userFile:{set:function(a){this.userFile_=a;this.invokeObserver_()},get:function(){return this.userFile_}},driveDocId:{set:function(a){this.driveDocId_=a;this.invokeObserver_()},get:function(){return this.driveDocId_}}});c.prototype.constructor=c;c.prototype.addObserver=function(a){if(!h.isFunction(a))throw new e("Non-function observer provided to FileDetails object");
this.observerFunc_=a};c.prototype.hasExpired=function(){return!this.tabId&&(new Date).getTime()-this.timestamp>a};c.prototype.toJSON=function(){var a=_.extend({},this);a.userFile_=void 0;return a};var a=7776E6;c.prototype.invokeObserver_=function(){this.observerFunc_&&this.observerFunc_()};return c});
define("qowtRoot/utils/localStorageManager",["qowtRoot/errors/qowtException"],function(h){return{setItem:function(e,c){try{window.localStorage.setItem(e,c)}catch(a){throw new h({title:"storage_quota_exceed_error_short_msg",details:"storage_quota_exceed_error_msg",message:a.message});}},getItem:function(e){return window.localStorage.getItem(e)}}});
define("qowtRoot/utils/uuid",[],function(){return{generateUUID:function(){var h=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var c=(h+16*Math.random())%16|0;h=Math.floor(h/16);return("x"===e?c:c&7|8).toString(16)})}}});
define("background/store/fileStore",["background/store/fileDetails","qowtRoot/utils/localStorageManager","qowtRoot/utils/uuid"],function(h,e,c){var a={init:function(){return t().then(u).then(w)},addEntry:function(a){var e;a instanceof h&&(a.addObserver(n),e=c.generateUUID(),v[e]=a,n());return e},getEntry:function(a){var c=v[a];!c&&(c=g[a])&&(c=Object.create(c),c.lsUsed=!0);return c},findTabId:function(a){var c=[];if(a){for(var e in v)v[e].tabId===a&&c.push(e);if(0===c.length)for(e in g)g[e].tabId===
a&&c.push(e)}return 0<c.length?c:void 0},removeAllTabIds:function(){for(var a in v)v[a].tabId=void 0;for(a in g)g[a].tabId=void 0},deleteOrphans:function(a){for(var c=[],e=a.length,h=0;h<e;h++){var m=a[h];if(!m.isDirectory){var m=m.fullPath,p;p=void 0;if(m){var t=void 0;for(t in v)if(v[t].privateFilePath===m||v[t].downloadFilePath===m){p=t;break}}if(!v[p]||v[p].hasExpired())c.push(m),delete v[p];p=void 0;if(m)for(t in t=void 0,g)if(g[t].privateFilePath===m||g[t].downloadFilePath===m){p=t;break}g[p]&&
!g[p].hasExpired()||delete g[p]}}n();return c},window__:function(){return window}},g,v,w=function(){return m().then(x)},x=function(){return new Promise(function(a){try{g=(g=e.getItem("qo_file_store"))?JSON.parse(g):{}}catch(c){g={},console.warn("Failed to initialize file store so resetting it to be empty: "+c)}for(var m in g){var t=new h(g[m]);t.addObserver(n);g[m]=t}a()})},m=function(){return new Promise(function(a){chrome.storage.local.get(["qo_file_store"],function(c){c=c.qo_file_store;v=!c||0===
Object.keys(c).length&&c.constructor===Object?{}:JSON.parse(c);for(var e in v)c=new h(v[e]),c.addObserver(n),v[e]=c;a()})})},n=function(){var c;a.window__()&&(c=JSON.stringify(v),chrome.storage.local.set({qo_file_store:c},function(){}))},t=function(){return new Promise(function(a){chrome.storage.local.get(["chrome_store_ready"],function(c){a(c.chrome_store_ready)})})},u=function(a){return new Promise(function(c){if(a)c();else{var g=e.getItem("qo_file_store");chrome.storage.local.set({qo_file_store:g?
g:""},function(){chrome.storage.local.set({chrome_store_ready:!0},function(){c()})})}})};return a});
define("background/fileReaper",["background/store/fileStore","qowtRoot/utils/typeUtils","qowtRoot/third_party/when/when","qowtRoot/features/utils","third_party/lo-dash/lo-dash.min"],function(h,e,c,a){var g={init:function(){c(t()).then(u)},addLock:function(a){m.push(a)},removeLock:function(a){a=m.indexOf(a);-1!==a&&m.splice(a,1)}},v,w=!1,x=[],m=[],n=0,t=function(){var a;return function(){var e=c.defer();a?e.resolve(a):window.webkitRequestFileSystem(window.TEMPORARY,1048576,function(c){a=c;e.resolve(a)},
function(){e.reject(Error("File Reaper failed to access the file system"))});return e.promise}}(),u=function(){var a=_.throttle(F,3E4);chrome.tabs.onRemoved.addListener(function(c){g.removeLock(c);h.findTabId(c)&&a()})},F=function(){n||0<m.length||a.isEnabled("suppressFileReapear")||(h.removeAllTabIds(),w=!1,v=window.setTimeout(A,3E5),chrome.windows.getAll({populate:!0},function(a){for(var c=a.length,e=0;e<c;e++)a[e].tabs.forEach(function(a){n++;chrome.tabs.sendMessage(a.id,"reaperCheck",r.bind(this,
a.id))})}))},r=function(a,c){if(w)J(c)&&console.warn("Reaper received a belated Quickoffice tab response - this may result in its private temp file being incorrectly deleted");else{if(J(c)){var e=h.getEntry(c.uuid);e&&(e.tabId=a)}1===n?(window.clearTimeout(v),0<m.length?n=0:q()):n--}},A=function(){w=!0;0<m.length?n=0:q()},q=function(){c(t()).then(function(a){x=[];var c=a.root.createReader(),e=function(){c.readEntries(function(a){0<a.length?(a.forEach(function(a){x.push(a)}),e()):y(x)},y)};e()})},
y=function(a){0<m.length||!e.isList(a)||h.deleteOrphans(a).forEach(function(a){p(a)});n=0},p=function(a){a&&c(t()).then(function(c){c.root.getFile(a,{create:!1},function(c){c.remove(function(){console.log("File Reaper has deleted file "+a)})})})},J=function(a){return e.isObject(a)&&a.hasOwnProperty("uuid")};return g});
define("utils/logUtils",["qowtRoot/utils/typeUtils"],function(h){return{logError:function(e){e&&e.stack?h.isList(e.stack)?(console.error(e.message),e.stack.forEach(function(c){console.error(c.toString())})):console.error(e.stack):console.error(e)}}});
define("background/chromeHandler",["background/store/fileStore","background/store/fileDetails","background/fileReaper","utils/logUtils","qowtRoot/third_party/when/when"],function(h,e,c,a,g){function v(c,e,h){var u=c.length,p=[];return e?t(e,c[0],h):x().catch(function(){return w()}).catch(function(){return m()}).then(function(a){if(F(a)){for(var e=0;e<u;e++)0===e&&a.useTabId?p.push(t(a.useTabId,c[e],h)):p.push(n(a.id,c[e],h));return g.all(p)}throw Error("Could not find valid window");}).catch(a.logError)}
function w(){return g.promise(function(a,c){chrome.windows.getLastFocused({populate:!1},function(e){F(e)?a(e):c(Error("invalid window"))})})}function x(){return g.promise(function(a,c){chrome.windows.getCurrent({populate:!1},function(e){F(e)?a(e):c(Error("invalid window"))})})}function m(){return g.promise(function(a,c){chrome.windows.create({type:"normal",focused:!0},function(e){F(e)?(e.useTabId=e.tabs[0].id,a(e)):c(Error("invalid window"))})})}function n(a,c,e){var h={active:e?e:!1,windowId:a,url:"../views/app.html?uuid="+
c};return g.promise(function(a){chrome.tabs.create(h,a)})}function t(a,c,e){var m={active:e?e:!1,url:"../views/app.html?uuid="+c};return g.promise(function(e,g){var n=h.getEntry(c);n?(n.tabId=a,chrome.tabs.update(a,m,e)):g()})}function u(a){return a&&void 0!==a.id}c.init();var F=function(a){return a&&void 0!==a.id&&!a.incognito};return{handleIncomingMsg:function(a,c){"driveEnabled"===c.msg&&a.postMessage({driveEnabled:!0,supportsTeamDrives:!0})},handleChromeOSFile:function(a){var c,m=g.reject(Error("No file entries were passed to open"));
F=u;if(a){c=[];for(var n=0;n<a.length;++n){var p=new e({userFile:a[n].entry});c.push(h.addEntry(p))}c=v(c,void 0,!0)}return c||m},handleDriveDoc:function(a,c){var m,n,p=g.reject(Error("No drive doc ids were passed to open"));if(a){n=[];for(var t=0;t<a.length;++t){var u=new e({driveDocId:a[t],driveDocResourceKey:c?c[a[t]]:void 0}),u=h.addEntry(u);0===t?m=u:n.push(u)}n=0===n.length?g.resolve(m):v(n).yield(m)}return n||p},handleNewCreate:function(a,c){var m=g.reject(Error("No file type was passed."));
F=u;var n=[],p=new e({newDocument:a,mimeType:c});n.push(h.addEntry(p));return v(n,void 0,!0)||m}}});
define("qowtRoot/configs/common",[],function(){var h={SUPPORTED_IMAGE_FORMATS:{jpg:!0,jpeg:!0,gif:!0,png:!0,pic:!1,pict:!1,bmp:!0,tif:!0,tiff:!0},ZOOM:{current:void 0,next:void 0,levels:void 0},LAYOUT_DEFAULT_MAXZOOM:void 0,LAYOUT_DEFAULT_MINZOOM:void 0,LAYOUT_DEFAULT_ZOOM_LEVEL:void 0,DOC_VERIFY_DEBOUNCE:50,DEFAULT_COLORS:"#6B9CD4 #DE7872 #B7D37C #A48CC2 #6CC7E1 #F3AB63 #AEC8EE".split(" "),TEXT_STYLE:{defaultHighlightColor:"rgb(255, 255, 255)",defaultTxtColor:"rgb(0, 0, 0)",shadowText:{setValue:"#000000 0.07em 0.07em 0.07em",
getValue:"rgb(0, 0, 0) 0.07em 0.07em 0.07em"},outlineText:{webkitTextFillColor:"transparent",webkitTextStroke:".05em #000000",webkitTextStrokeWidth:"0.05em",webkitTextStrokeColor:"rgb(0, 0, 0)"},embossedText:{setColor:"#ffffff",getColor:"rgb(255, 255, 255)",setShadow:"#000000 1px 1px 2px",getShadow:"rgb(0, 0, 0) 1px 1px 2px"},engravedText:{setColor:"#999999",getColor:"rgb(153, 153, 153)",setShadow:"#000000 -1px -1px 2px",getShadow:"rgb(0, 0, 0) -1px -1px 2px"}},DEFAULT_BLIP_FILL_PROPERTIES:{tileProps:{Sx:100,
Sy:100,Tx:0,Ty:0,align:"TL"},type:"tileFill"},kMESSAGE_BUS_CONNECTION_RETRY:10,kMESSAGE_BUS_CONNECTION_TIMEOUT:3E4,kMESSAGE_BUS_CONNECTION_TIMEOUT_MSG:"MessageBus: Connection timeout",create:function(){return{SUPPORTED_IMAGE_FORMATS:h.SUPPORTED_IMAGE_FORMATS,DIALOGUE_CONFIG:h.DIALOGUE_CONFIG,DEFAULT_COLORS:h.DEFAULT_COLORS,ZOOM:h.ZOOM,LAYOUT_DEFAULT_MAXZOOM:h.LAYOUT_DEFAULT_MAXZOOM,LAYOUT_DEFAULT_MINZOOM:h.LAYOUT_DEFAULT_MINZOOM,LAYOUT_DEFAULT_ZOOM_LEVEL:h.LAYOUT_DEFAULT_ZOOM_LEVEL}}};return h});
define("qowtRoot/messageBus/messageBusImpl",["qowtRoot/utils/typeUtils","qowtRoot/configs/common","qowtRoot/third_party/when/when"],function(h,e,c){var a=function(a){this.myWin_=a||window;this.pendingConnections_=[];this.acceptedConnections_=[];this.completedConnections_=[];this.acknowledgements_=[];this.listeners_=[];this.msgQueue_=[];this.pendingMsgs_=[];this.myWin_.addEventListener("message",this.handleIncomingMessage_.bind(this),!1)};a.prototype=Object.create(Object.prototype);a.prototype.constructor=
a;a.prototype.connect=function(a,e){if(!a||null===a||!h.isObject(a)||!a.postMessage)throw Error("MessageBus: A valid HTML window object has not been provided to connect()");if(a===this.myWin_)throw Error("MessageBus: Trying to connect to its own window");if(e&&!h.isFunction(e))throw Error("MessageBus: The provided callback function is not of the correct type");for(var g=this.pendingConnections_.length,u=0;u<g;u++)if(this.pendingConnections_[u].win===a)throw Error("MessageBus: Trying to connect to a window that we are already trying to connect to");
g=this.acceptedConnections_.length;for(u=0;u<g;u++)if(this.acceptedConnections_[u].win===a)throw Error("MessageBus: Trying to connect to a window that we are already trying to connect to");g=this.completedConnections_.length;for(u=0;u<g;u++)if(this.completedConnections_[u].win===a)throw Error("MessageBus: Trying to connect to a window that has already been connected");g={win:a,callback:e,currentWaitTime:0,deferred:c.defer()};this.pendingConnections_.push(g);this.tryToConnect_(g);return g.deferred.promise};
a.prototype.pushMessage=function(a){if(!h.isObject(a))throw Error("MessageBus: A valid message object has not been provided to pushMessage()");var c=this.completedConnections_.length;if(0===c)this.pendingMsgs_.push(a);else{if(!h.isObject(a))throw Error("Cannot mark non-object value as quickoffice message");a.qoMessageBus=!0;this.msgQueue_.length>=g&&this.msgQueue_.shift();this.msgQueue_.push(a);for(var e=0;e<c;e++)this.completedConnections_[e].win.postMessage(a,"*")}};a.prototype.listen=function(a,
c){if(!h.isFunction(a))throw Error("MessageBus: A valid listener function has not been provided to listen()");if(c&&!h.isFunction(c))throw Error("MessageBus: The provided filter function is not of the correct type");this.listeners_.push({listener:a,filter:c})};a.prototype.stopListening=function(a){if(!h.isFunction(a))throw Error("MessageBus: A valid listener function has not been provided to stopListening()");for(var c=this.listeners_.length,e=0;e<c;e++)if(this.listeners_[e].listener===a){this.listeners_.splice(e,
1);break}};a.prototype.isConnectedTo=function(a){for(var c=!1,e=this.completedConnections_.length,g=0;g<e;g++)if(a===this.completedConnections_[g].win){c=!0;break}return c};a.prototype.tryToConnect_=function(a){a.currentWaitTime>e.kMESSAGE_BUS_CONNECTION_TIMEOUT?this.handleTimeOut_(a):(a.currentWaitTime+=e.kMESSAGE_BUS_CONNECTION_RETRY,-1!==this.pendingConnections_.indexOf(a)&&a.win.postMessage(v,"*"),a.timeoutId=setTimeout(this.tryToConnect_.bind(this,a),e.kMESSAGE_BUS_CONNECTION_RETRY))};a.prototype.handleTimeOut_=
function(a){var c=e.kMESSAGE_BUS_CONNECTION_TIMEOUT_MSG;window.connectFromAppToQowt&&(c=window.connectFromQowtToApp?Math.abs(Math.round(window.connectFromQowtToApp-window.connectFromAppToQowt)/1E3)>Math.round(e.kMESSAGE_BUS_CONNECTION_TIMEOUT/1E3*.8)?c+":qowt too late to connect":c+":qowt and app connected:handshake failed?":c+":qowt failed to connect");a.deferred.reject(Error(c))};a.prototype.handleIncomingMessage_=function(a){if(a){if(-1!==this.msgQueue_.indexOf(a.data))throw Error("MessageBus: A message that was pushed onto thisbus has arrived back on it - we have a circular dependancy!");
a.data===v?this.handleConnectionRequestMsg_(a):a.data===w?this.handleConnectionAcceptedMsg_(a):a.data===x?this.handleConnectionAckMsg_(a):a&&a.data&&!0===a.data.qoMessageBus&&("chrome-extension://gbkeegbaiigmenfmjfclcdgdpimamgkj"===a.origin||"chrome-extension://bpmcpldpdmajfigpchkicefoigmkfalc"===a.origin||"chrome-extension://ehibbfinohgbchlgdbfpikodjaojhccn"===a.origin)&&this.handleClientMsg_(a)}};a.prototype.handleConnectionRequestMsg_=function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionRequest message");
a.source.postMessage(w,"*")};a.prototype.handleConnectionAcceptedMsg_=function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionAccepted message");for(var c=this.pendingConnections_.length,e=0;e<c;e++)if(this.pendingConnections_[e].win===a.source){c=this.pendingConnections_.splice(e,1)[0];a=this.acknowledgements_.indexOf(a.source);-1===a?this.acceptedConnections_.push(c):(this.acknowledgements_.splice(a,1),this.connectionCompleted_(c));c.win.postMessage(x,"*");break}};a.prototype.handleConnectionAckMsg_=
function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionAck message");for(var c=this.acceptedConnections_.length,e=0;e<c;e++)if(this.acceptedConnections_[e].win===a.source){a=this.acceptedConnections_.splice(e,1)[0];this.connectionCompleted_(a);return}this.acknowledgements_.push(a.source)};a.prototype.handleClientMsg_=function(a){if(a.source){for(var c=this.listeners_.slice(),e=c.length,g=0;g<e;g++){var h=c[g];!h||h.filter&&!h.filter.call(this,a)||h.listener.call(this,a)}e=
this.completedConnections_.length;for(g=0;g<e;g++)this.completedConnections_[g].win!==a.source&&this.completedConnections_[g].win.postMessage(a.data,"*")}};a.prototype.connectionCompleted_=function(a){this.completedConnections_.push(a);clearTimeout(a.timeoutId);for(a.callback&&a.callback.call(this);0<this.pendingMsgs_.length;)this.pushMessage(this.pendingMsgs_.shift());a.deferred.resolve()};var g=10,v="qoConnectionRequest",w="qoConnectionAccepted",x="qoConnectionAck";return a});
define("qowtRoot/messageBus/messageBus",["qowtRoot/messageBus/messageBusImpl"],function(h){return new h});
define("qowtRoot/pubsub/pubsub",["third_party/lo-dash/lo-dash.min"],function(){function h(a,c){var g=[],h=[],w=[],r=[];v[a]&&v[a].length&&(x++,v[a].forEach(function(a){a.config.after?h.push(a):g.push(a);a.config.once&&r.push(a)}),g.concat(h).forEach(function(e){w.push(e.callback(a,c))}),r.forEach(function(a){e(a.token)}));return Promise.all(w)}function e(a){var c;_.values(v).some(function(e){return e.some(function(g,h){return g.token===a?(c=e.splice(h,1)[0],!0):!1})});return c}function c(a){var c=
0;return c=a?v[a]?v[a].length:0:_.values(v).reduce(function(a,c){return a+c.length},0)}function a(){v={}}var g=Object.create(Object.prototype,{subscriberCount:{get:function(){return c()}},registeredSignals:{get:function(){return _.keys(v)}},publishCount:{get:function(){return x}}});g.subscribe=function(a,c,e){if(!_.isString(a)||!a)throw new TypeError("invalid signal");if(!_.isFunction(c))throw new TypeError("invalid callback");e=e||{};e.once=!!e.once;e.after=!!e.after;var g=(++w).toString();v[a]=
v[a]||[];v[a].push({token:g,callback:c,config:e});return g};g.publish=function(a,c){if(!_.isString(a)||!a)throw new TypeError("invalid signal");c=c||{};return h(a,c)};g.doAction=function(a,c){if(!_.isString(a)||!a)throw new TypeError("invalid action");c=c||{};c=_.isString(c)?{contentType:c}:c;return h("qowt:doAction",{action:a,context:c})};g.unsubscribe=function(a){if(void 0!==a){if(!_.isString(a)||!a)throw new TypeError("invalid token");return e(a)}};g.subscriberCountForSignal=function(a){if(!_.isString(a)||
!a)throw new TypeError("invalid signal");return c(a)};g.clear=a;g.reset=function(){a();x=w=0};var v={},w=0,x=0;return g});define("qowtRoot/errors/qowtError",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTError";Error.captureStackTrace(this,e);this.fatal=!1};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTError=e});
define("qowtRoot/errors/qowtSilentError",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTSilentError";Error.captureStackTrace(this,e);this.fatal=!1;this.silent=!0};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTSilentError=e});
define("qowtRoot/errors/errorCatcher","qowtRoot/utils/typeUtils qowtRoot/messageBus/messageBus qowtRoot/pubsub/pubsub qowtRoot/errors/qowtError qowtRoot/errors/qowtSilentError qowtRoot/errors/qowtException".split(" "),function(h,e,c,a,g,v){function w(a){a.error?(console.error("%s caught js exception: %s",A,a.error.name||a.error.message?a.error.name+": "+a.error.message:a.error),console.error(a.error.stack),void 0===a.error.fatal&&(a.error.fatal=!0),m(a.error)):console.error(a)}function x(a,c){console.log("%s caught deprecated error",
A);console.log(c);c.isDeprecatedError=!0;m(c)}function m(c){if(c instanceof Error)void 0===c.fatal&&(c.fatal=!0);else{console.log("%s converting deprecated/bad error",A);switch(!0){case h.isObject(c)&&c.isDeprecatedError:var m={title:c.errorId?c.errorId+"_short_msg":void 0,details:c.errorId?c.errorId+"_msg":void 0,linkData:c.linkData,message:c.additionalInfo};c=c.fatal?new v(m):c.silent?new g(m):new a(m);break;case h.isNumber(c):c=new v({code:c});break;case h.isString(c):c=new v(c);break;default:c=
new v(c.toString())}c.stack=void 0}y.push(c);n(c);if(!c.isSynced){console.log("%s pushing error to msg bus",A);m=_.extend({},c);m.name=c.name;m.message=c.message;m.stack=c.stack;try{e.pushMessage({id:F,error:JSON.stringify(m)})}catch(q){}}}function n(a){console.log("%s dispatching error to observers",A);r.forEach(function(c){try{c.call(c,a)}catch(e){console.warn("Error observer %s threw an exception; ignored",c.name||""),console.warn(e.stack)}})}function t(a){if(a&&a.data&&a.data.error){console.log("%s receiving error from msg bus",
A);a=JSON.parse(a.data.error);var c={};-1!=="Error EvalError RangeError ReferenceError SyntaxError TypeError URIError QOWTError QOWTSilentError QOWTException".split(" ").indexOf(a.name)?(console.log("cast to %s",a.name),c=new window[a.name]):(console.log("cast fallback to Error"),c=Error());_.extend(c,a);void 0===a.stack&&(c.stack=void 0);a=c;a.isSynced=!0;m(a)}}function u(a){return a&&a.data&&a.data.id===F}var F="errorSync",r=[],A="sandbox"===window.name?"QOWT":"App",q,y=[];return{init:function(){q=
c.subscribe("qowt:error",x);window.addEventListener("error",w);e.listen(t,u);Error.stackTraceLimit=Infinity},reset:function(){c.unsubscribe(q);window.removeEventListener("error",w);e.stopListening(t);r=[]},handleError:function(a){m(a)},addObserver:function(a){h.isFunction(a)?r.push(a):console.warn("Error observer must be a function")},observers:function(){return r},lastError:function(){return y[y.length-1]}}});
define("background/pageAPI","background/fileReaper background/store/fileDetails background/store/fileStore background/chromeHandler qowtRoot/errors/errorCatcher qowtRoot/errors/qowtSilentError".split(" "),function(h,e,c,a,g,v){function w(a){if(a&&(a=a["Content-Disposition"]||a["content-disposition"]))try{return a.split("=")[1].trim().replace(/\"/g,"")}catch(c){g.handleError(new v("Failed to parse Content-Disposition Header: "+c))}}window.handleDriveDoc=function(c,e){return a.handleDriveDoc(c,e)};
window.registerMimeHandlerStream=function(a){return c.addEntry(new e({mimeType:a.mimeType,streamURL:a.streamUrl,originalURL:a.originalUrl,tabId:a.tabId,preferredFilename:w(a.responseHeaders),embedded:a.embedded}))};window.getFileDetails=function(a){return c.getEntry(a)};window.addReaperLock=function(a){h.addLock(a)};window.removeReaperLock=function(a){h.removeLock(a)};window.cacheTabId=function(a,e){var g=c.getEntry(a);g&&(g.tabId=e)};window.cachePrivateFilePath=function(a,e){var g=c.getEntry(a);
g&&(g.privateFilePath=e)};window.cacheDownloadFilePath=function(a,e){var g=c.getEntry(a);g&&(g.downloadFilePath=e)};window.cacheTimestamp=function(a){if(a=c.getEntry(a))a.timestamp=(new Date).getTime()};return{}});
(function(){function h(c){console.error(c.stack?c.stack:c)}var e=(new Promise(function(c){require(["background/store/fileStore","background/chromeHandler","background/pageAPI"],function(a,e){a.init().then(function(){window.isReady=!0;c(e)})})})).catch(h);(function(){var c=chrome&&chrome.runtime&&chrome.runtime.onConnectExternal&&chrome.runtime.onConnectExternal.addListener;c||console.warn("Missing Chrome Connect API... drive integration wont work");return c})()&&chrome.runtime.onConnectExternal.addListener(function(c){c.onDisconnect.addListener(function(){});
c.onMessage.addListener(function(a){e.then(function(e){e.handleIncomingMsg(c,a)}).catch(h)})});(function(){var c=chrome&&chrome.app&&chrome.app.runtime&&chrome.app.runtime.onLaunched&&chrome.app.runtime.onLaunched.addListener;c||console.warn("Missing ChromeOS Runtime OnLaunched API... opening documents from file browser wont work");return c})()&&chrome.app.runtime.onLaunched.addListener(function(c){"qo_documents"===c.id&&e.then(function(a){a.handleChromeOSFile(c.items)}).catch(h)});chrome.runtime.onMessage.addListener(function(c,
a,g){e.then(function(a){g({newCreate:"Creating new document"});a.handleNewCreate(c.newCreate,c.mimeType)}).catch(h);return!0})})();define("background/backgroundMain",function(){});
