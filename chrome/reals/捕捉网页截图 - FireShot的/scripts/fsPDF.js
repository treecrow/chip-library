/*
 FireShot - Webpage Screenshots and Annotations
 Copyright (C) 2007-2021 Evgeny Suslikov (evgeny@suslikov.ru)
*/
var fsPDF=function(A,B){function f(c,b,a){var d=1===arguments.length?c:Array.prototype.join.call(arguments," ");w.push(d);p+=d.length+1}function k(c,b,a){a?l.unshift(p):l.push(p);a=a?1:++C;var d;b&&(d="/Length "+b.length);f(a+" 0 obj\r\n<<"+c+(d?d:"")+">>");b&&(f("stream"),f(b),f("endstream"));f("endobj");return a}function q(){f("%PDF-1.5\r\n%\u00ffCaptured and generated by FireShot [https://getfireshot.com]\u00ff");if(m.length){for(var c in m){var b=m[c],a=m[c].a,d="undefined"!==typeof isEdgeExtension?
encodeURI(a):(isSafari()?"https://getfireshot.com/pdfs_":"https://getfireshot.com/pdf_")+btoa(a);r[d]?a=r[d]:(a=k("/Type/Action/S/URI/URI("+d+")"),r[d]=a);b.nActionId=a}for(var g in m){c=m[g];for(var e in c.r){b=c.nActionId;a=c.r[e];d=t-Math.max(0,a[1]);var u=Math.min(h.width,a[0]+a[2]),n=t-Math.min(h.height,a[1]+a[3]);a=[(.75*Math.max(0,a[0])).toFixed(2),(.75*n).toFixed(2),(.75*u).toFixed(2),(.75*d).toFixed(2)].join(" ");v.push(k("/Type/Annot/BS<</W 0 /S /S>>/C[0 1 0]/Subtype/Link/Rect["+a+"]/A "+
b+" 0 R"))}}}g=[];d="";c=e=0;b=document.createElement("canvas");a=b.getContext("2d");for(b.width=h.width;e<h.height;){b.height=Math.min(2048,h.height-e);a.drawImage(h,0,-e);e+=b.height;u="/I"+c+" ";n="/Type /XObject /Subtype /Image /Width "+b.width+" /Height "+b.height+" /ColorSpace /DeviceRGB /BitsPerComponent 8 /Filter /DCTDecode ";var D=atob(b.toDataURL("image/jpeg").replace("data:image/jpeg;base64,",""));n=k(n,D);d+=u+n+" 0 R\r\n";g.push("q\r\n1 0 0 1 0 "+(.75*(h.height-e)).toFixed(2)+" cm\r\n"+
(.75*b.width).toFixed(2)+" 0 0 "+(.75*b.height).toFixed(2)+" 0 0 cm\r\n/I"+c++ +" Do\r\nQ")}e=v.length?"/Annots["+v.join(" 0 R ")+" 0 R]":"";c=k("/ProcSet[/PDF/ImageC]/XObject<<"+d+">>");g=k("",g.join("\r\n"));x=k("/Type/Page/Parent 1 0 R/MediaBox[0 0 "+(.75*E).toFixed(2)+" "+(.75*t).toFixed(2)+"]/Contents "+g+" 0 R/Resources "+c+" 0 R"+e);y=k("/Type/Catalog/Pages 1 0 R");k("/Type/Pages /Kids ["+x+" 0 R] /Count 1",null,!0);z=p;f("\r\nxref\r\n0 "+(l.length+1)+"\r\n0000000000 65535 f");for(g=0;g<l.length;++g){for(e=
l[g].toString();10>e.length;)e="0"+e;f(e+" 00000 n")}f("trailer\r\n<</Root "+y+" 0 R /Size "+(l.length+1)+">>\r\n");f("startxref\r\n"+z+"\r\n%%%%EOF\r\n");return w.join("\n")}var h=A,m=B,v=[],w=[],l=[],r=[],p=0,C=1,E=h.width,t=h.height,x,y,z;return{getBytes:function(){return isDebug?q():void 0},toDataURL:function(){return"data:application/pdf;base64,"+btoa(q())},toBlob:function(){for(var c=q(),b=Array(c.length),a=0;a<c.length;a++)b[a]=c.charCodeAt(a);return new Blob([new Uint8Array(b)],{type:"application/pdf"})}}};
